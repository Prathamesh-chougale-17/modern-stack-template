{
  "name": "project",
  "type": "registry:block",
  "dependencies": [
    "@ai-sdk/google",
    "@ai-sdk/react",
    "@hookform/resolvers",
    "@orpc/client",
    "@orpc/openapi",
    "@orpc/server",
    "@orpc/zod",
    "@scalar/nextjs-api-reference",
    "@t3-oss/env-nextjs",
    "@tanstack/react-form",
    "@tanstack/react-query",
    "ai",
    "better-auth",
    "cmdk",
    "date-fns",
    "embla-carousel-react",
    "input-otp",
    "lucide-react",
    "mongodb",
    "next-themes",
    "nodemailer",
    "nuqs",
    "radix-ui",
    "react-day-picker",
    "react-hook-form",
    "react-icons",
    "react-resizable-panels",
    "recharts",
    "sonner",
    "vaul",
    "zod"
  ],
  "devDependencies": [
    "@types/nodemailer",
    "tw-animate-css"
  ],
  "registryDependencies": [
    "accordion",
    "alert",
    "alert-dialog",
    "aspect-ratio",
    "avatar",
    "badge",
    "breadcrumb",
    "button",
    "calendar",
    "card",
    "carousel",
    "chart",
    "checkbox",
    "collapsible",
    "command",
    "context-menu",
    "dialog",
    "drawer",
    "dropdown-menu",
    "form",
    "hover-card",
    "input",
    "input-otp",
    "label",
    "menubar",
    "navigation-menu",
    "pagination",
    "popover",
    "progress",
    "radio-group",
    "resizable",
    "scroll-area",
    "select",
    "separator",
    "sheet",
    "sidebar",
    "skeleton",
    "slider",
    "sonner",
    "switch",
    "table",
    "tabs",
    "textarea",
    "toggle",
    "toggle-group",
    "tooltip"
  ],
  "files": [
    {
      "path": "ai\\config.ts",
      "content": "import { google } from \"@ai-sdk/google\";\r\nexport const aiModel = google(\"gemini-2.5-flash\");\r\nexport const aiConfig = {\r\n  model: aiModel,\r\n  temperature: 0.7,\r\n  maxTokens: 8192,\r\n};\r\n",
      "type": "registry:component",
      "target": "ai\\config.ts"
    },
    {
      "path": "app\\(auth)\\sign-in\\page.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { authClient } from \"@/lib/auth-client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Spinner } from \"@/components/ui/spinner\";\nimport { AlertCircle, Mail } from \"lucide-react\";\nimport { FcGoogle } from \"react-icons/fc\";\n\nexport default function SignInPage() {\n  const router = useRouter();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [googleLoading, setGoogleLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      await authClient.signIn.email({\n        email,\n        password,\n      });\n      router.push(\"/dashboard\");\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to sign in\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleSignIn = async () => {\n    setGoogleLoading(true);\n    try {\n      await authClient.signIn.social({\n        provider: \"google\",\n        callbackURL: \"/dashboard\",\n      });\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to sign in with Google\");\n      setGoogleLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"space-y-1\">\n          <CardTitle className=\"text-2xl font-bold\">Welcome back</CardTitle>\n          <CardDescription>\n            Enter your credentials to access your account\n          </CardDescription>\n        </CardHeader>\n        <form onSubmit={handleSubmit}>\n          <CardContent className=\"space-y-4\">\n            {error && (\n              <Alert variant=\"destructive\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription>{error}</AlertDescription>\n              </Alert>\n            )}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"name@example.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                disabled={loading}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                disabled={loading}\n              />\n            </div>\n          </CardContent>\n          <CardFooter className=\"flex flex-col space-y-4\">\n            <Button type=\"submit\" className=\"w-full\" disabled={loading || googleLoading}>\n              {loading ? (\n                <>\n                  <Spinner className=\"mr-2 h-4 w-4\" />\n                  Signing in...\n                </>\n              ) : (\n                \"Sign In\"\n              )}\n            </Button>\n\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <span className=\"w-full border-t\" />\n              </div>\n              <div className=\"relative flex justify-center text-xs uppercase\">\n                <span className=\"bg-background px-2 text-muted-foreground\">\n                  Or continue with\n                </span>\n              </div>\n            </div>\n\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              className=\"w-full\"\n              onClick={handleGoogleSignIn}\n              disabled={loading || googleLoading}\n            >\n              {googleLoading ? (\n                <>\n                  <Spinner className=\"mr-2 h-4 w-4\" />\n                  Connecting...\n                </>\n              ) : (\n                <>\n                  <FcGoogle className=\"mr-2 h-4 w-4\" />\n                  Sign in with Google\n                </>\n              )}\n            </Button>\n\n            <Link href=\"/sign-in-otp\" className=\"w-full\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                className=\"w-full\"\n                disabled={loading || googleLoading}\n              >\n                <Mail className=\"mr-2 h-4 w-4\" />\n                Sign in with OTP\n              </Button>\n            </Link>\n\n            <p className=\"text-center text-sm text-muted-foreground\">\n              Don&apos;t have an account?{\" \"}\n              <Link\n                href=\"/sign-up\"\n                className=\"font-medium text-primary hover:underline\"\n              >\n                Sign up\n              </Link>\n            </p>\n          </CardFooter>\n        </form>\n      </Card>\n    </div>\n  );\n}\n",
      "type": "registry:page",
      "target": "app\\(auth)\\sign-in\\page.tsx"
    },
    {
      "path": "app\\(auth)\\sign-in-otp\\page.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { authClient } from \"@/lib/auth-client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Spinner } from \"@/components/ui/spinner\";\nimport { AlertCircle, CheckCircle2, Mail } from \"lucide-react\";\nimport {\n  InputOTP,\n  InputOTPGroup,\n  InputOTPSlot,\n} from \"@/components/ui/input-otp\";\n\nexport default function SignInOTPPage() {\n  const router = useRouter();\n  const [email, setEmail] = useState(\"\");\n  const [otp, setOtp] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [otpSent, setOtpSent] = useState(false);\n\n  const handleSendOTP = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n    setLoading(true);\n\n    try {\n      await authClient.emailOtp.sendVerificationOtp({\n        email,\n        type: \"sign-in\",\n      });\n      setOtpSent(true);\n      setSuccess(\"OTP sent to your email! Check console in development.\");\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to send OTP\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleVerifyOTP = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      await authClient.signIn.emailOtp({\n        email,\n        otp,\n      });\n      router.push(\"/dashboard\");\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Invalid OTP\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"space-y-1\">\n          <CardTitle className=\"text-2xl font-bold\">\n            {otpSent ? \"Enter OTP\" : \"Sign in with OTP\"}\n          </CardTitle>\n          <CardDescription>\n            {otpSent\n              ? \"Enter the 6-digit code sent to your email\"\n              : \"We'll send a one-time password to your email\"}\n          </CardDescription>\n        </CardHeader>\n\n        {!otpSent ? (\n          <form onSubmit={handleSendOTP}>\n            <CardContent className=\"space-y-4\">\n              {error && (\n                <Alert variant=\"destructive\">\n                  <AlertCircle className=\"h-4 w-4\" />\n                  <AlertDescription>{error}</AlertDescription>\n                </Alert>\n              )}\n              {success && (\n                <Alert className=\"border-green-500/50 bg-green-950/20\">\n                  <CheckCircle2 className=\"h-4 w-4 text-green-500\" />\n                  <AlertDescription className=\"text-green-500\">\n                    {success}\n                  </AlertDescription>\n                </Alert>\n              )}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\">Email</Label>\n                <div className=\"relative\">\n                  <Mail className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    placeholder=\"name@example.com\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    required\n                    disabled={loading}\n                    className=\"pl-10\"\n                  />\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  In development, check console for OTP\n                </p>\n              </div>\n            </CardContent>\n            <CardFooter className=\"flex flex-col space-y-4\">\n              <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n                {loading ? (\n                  <>\n                    <Spinner className=\"mr-2 h-4 w-4\" />\n                    Sending OTP...\n                  </>\n                ) : (\n                  \"Send OTP\"\n                )}\n              </Button>\n              <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                <Link href=\"/sign-in\" className=\"hover:underline\">\n                  Sign in with password\n                </Link>\n                <span>Â·</span>\n                <Link href=\"/sign-up\" className=\"hover:underline\">\n                  Sign up\n                </Link>\n              </div>\n            </CardFooter>\n          </form>\n        ) : (\n          <form onSubmit={handleVerifyOTP}>\n            <CardContent className=\"space-y-4\">\n              {error && (\n                <Alert variant=\"destructive\">\n                  <AlertCircle className=\"h-4 w-4\" />\n                  <AlertDescription>{error}</AlertDescription>\n                </Alert>\n              )}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"otp\">One-Time Password</Label>\n                <div className=\"flex justify-center\">\n                  <InputOTP\n                    maxLength={6}\n                    value={otp}\n                    onChange={(value) => setOtp(value)}\n                    disabled={loading}\n                  >\n                    <InputOTPGroup>\n                      <InputOTPSlot index={0} />\n                      <InputOTPSlot index={1} />\n                      <InputOTPSlot index={2} />\n                      <InputOTPSlot index={3} />\n                      <InputOTPSlot index={4} />\n                      <InputOTPSlot index={5} />\n                    </InputOTPGroup>\n                  </InputOTP>\n                </div>\n                <p className=\"text-center text-xs text-muted-foreground\">\n                  Sent to {email}\n                </p>\n              </div>\n            </CardContent>\n            <CardFooter className=\"flex flex-col space-y-4\">\n              <Button\n                type=\"submit\"\n                className=\"w-full\"\n                disabled={loading || otp.length !== 6}\n              >\n                {loading ? (\n                  <>\n                    <Spinner className=\"mr-2 h-4 w-4\" />\n                    Verifying...\n                  </>\n                ) : (\n                  \"Verify & Sign In\"\n                )}\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                className=\"w-full\"\n                onClick={() => {\n                  setOtpSent(false);\n                  setOtp(\"\");\n                  setError(\"\");\n                }}\n                disabled={loading}\n              >\n                Use different email\n              </Button>\n            </CardFooter>\n          </form>\n        )}\n      </Card>\n    </div>\n  );\n}\n",
      "type": "registry:page",
      "target": "app\\(auth)\\sign-in-otp\\page.tsx"
    },
    {
      "path": "app\\(auth)\\sign-up\\page.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { authClient } from \"@/lib/auth-client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { Spinner } from \"@/components/ui/spinner\";\nimport { AlertCircle } from \"lucide-react\";\nimport { FcGoogle } from \"react-icons/fc\";\n\nexport default function SignUpPage() {\n  const router = useRouter();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [googleLoading, setGoogleLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n\n    if (password !== confirmPassword) {\n      setError(\"Passwords do not match\");\n      return;\n    }\n\n    if (password.length < 8) {\n      setError(\"Password must be at least 8 characters long\");\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      await authClient.signUp.email({\n        email,\n        password,\n        name,\n      });\n      router.push(\"/dashboard\");\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to create account\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleSignUp = async () => {\n    setGoogleLoading(true);\n    try {\n      await authClient.signIn.social({\n        provider: \"google\",\n        callbackURL: \"/dashboard\",\n      });\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to sign up with Google\");\n      setGoogleLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"space-y-1\">\n          <CardTitle className=\"text-2xl font-bold\">Create an account</CardTitle>\n          <CardDescription>\n            Enter your information to get started\n          </CardDescription>\n        </CardHeader>\n        <form onSubmit={handleSubmit}>\n          <CardContent className=\"space-y-4\">\n            {error && (\n              <Alert variant=\"destructive\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription>{error}</AlertDescription>\n              </Alert>\n            )}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">Name</Label>\n              <Input\n                id=\"name\"\n                type=\"text\"\n                placeholder=\"John Doe\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                required\n                disabled={loading}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"name@example.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                disabled={loading}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                disabled={loading}\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Must be at least 8 characters long\n              </p>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"confirmPassword\">Confirm Password</Label>\n              <Input\n                id=\"confirmPassword\"\n                type=\"password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                required\n                disabled={loading}\n              />\n            </div>\n          </CardContent>\n          <CardFooter className=\"flex flex-col space-y-4\">\n            <Button type=\"submit\" className=\"w-full\" disabled={loading || googleLoading}>\n              {loading ? (\n                <>\n                  <Spinner className=\"mr-2 h-4 w-4\" />\n                  Creating account...\n                </>\n              ) : (\n                \"Sign Up\"\n              )}\n            </Button>\n\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <span className=\"w-full border-t\" />\n              </div>\n              <div className=\"relative flex justify-center text-xs uppercase\">\n                <span className=\"bg-background px-2 text-muted-foreground\">\n                  Or continue with\n                </span>\n              </div>\n            </div>\n\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              className=\"w-full\"\n              onClick={handleGoogleSignUp}\n              disabled={loading || googleLoading}\n            >\n              {googleLoading ? (\n                <>\n                  <Spinner className=\"mr-2 h-4 w-4\" />\n                  Connecting...\n                </>\n              ) : (\n                <>\n                  <FcGoogle className=\"mr-2 h-4 w-4\" />\n                  Sign up with Google\n                </>\n              )}\n            </Button>\n\n            <p className=\"text-center text-sm text-muted-foreground\">\n              Already have an account?{\" \"}\n              <Link\n                href=\"/sign-in\"\n                className=\"font-medium text-primary hover:underline\"\n              >\n                Sign in\n              </Link>\n            </p>\n          </CardFooter>\n        </form>\n      </Card>\n    </div>\n  );\n}\n",
      "type": "registry:page",
      "target": "app\\(auth)\\sign-up\\page.tsx"
    },
    {
      "path": "app\\admin\\page.tsx",
      "content": "import { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { redirect } from \"next/navigation\";\nimport { UserManagement } from \"@/components/admin/user-management\";\nimport { AdminHeader } from \"@/components/admin/admin-header\";\n\nexport default async function AdminPage() {\n  const session = await auth.api.getSession({\n    headers: await headers(),\n  });\n\n  if (!session) {\n    redirect(\"/sign-in\");\n  }\n\n  const isAdmin = session.user.role === \"admin\" || session.user.role === \"super-admin\";\n\n  if (!isAdmin) {\n    redirect(\"/dashboard\");\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900\">\n      <AdminHeader session={session} />\n      <div className=\"container mx-auto p-6 space-y-6\">\n        <UserManagement />\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:page",
      "target": "app\\admin\\page.tsx"
    },
    {
      "path": "app\\api\\auth\\[...all]\\route.ts",
      "content": "import { auth } from \"@/lib/auth\";\nimport { toNextJsHandler } from \"better-auth/next-js\";\n\nexport const { GET, POST } = toNextJsHandler(auth.handler);\n",
      "type": "registry:block",
      "target": "app\\api\\auth\\[...all]\\route.ts"
    },
    {
      "path": "app\\api\\openapi\\route.ts",
      "content": "import { OpenAPIGenerator } from \"@orpc/openapi\";\r\nimport { ZodToJsonSchemaConverter } from \"@orpc/zod/zod4\";\r\nimport { router } from \"@/lib/router\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport const dynamic = \"force-static\";\r\n\r\nexport async function GET() {\r\n  const generator = new OpenAPIGenerator({\r\n    schemaConverters: [new ZodToJsonSchemaConverter()],\r\n  });\r\n\r\n  const spec = await generator.generate(router, {\r\n    info: {\r\n      title: \"Algorand Game Aggregator API\",\r\n      version: \"1.0.0\",\r\n      description:\r\n        \"API for Algorand Game Aggregator - handle game data aggregation, user management, and transaction processing\",\r\n    },\r\n    servers: [\r\n      {\r\n        url: \"/rpc\",\r\n        description: \"RPC endpoint\",\r\n      },\r\n    ],\r\n  });\r\n\r\n  return NextResponse.json(spec, {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n}\r\n",
      "type": "registry:block",
      "target": "app\\api\\openapi\\route.ts"
    },
    {
      "path": "app\\api\\route.ts",
      "content": "import { ApiReference } from \"@scalar/nextjs-api-reference\";\r\n\r\nexport const GET = ApiReference({\r\n  url: \"/api/openapi\",\r\n});\r\n",
      "type": "registry:block",
      "target": "app\\api\\route.ts"
    },
    {
      "path": "app\\dashboard\\page.tsx",
      "content": "import { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { redirect } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { SignOutButton } from \"@/components/auth/sign-out-button\";\nimport Link from \"next/link\";\nimport { Shield, Users, GamepadIcon } from \"lucide-react\";\n\nexport default async function DashboardPage() {\n  const session = await auth.api.getSession({\n    headers: await headers(),\n  });\n\n  if (!session) {\n    redirect(\"/sign-in\");\n  }\n\n  const isAdmin = session.user.role === \"admin\" || session.user.role === \"super-admin\";\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900\">\n      <div className=\"container mx-auto p-6 space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-white\">Dashboard</h1>\n            <p className=\"text-zinc-400\">Welcome back, {session.user.name}</p>\n          </div>\n          <SignOutButton />\n        </div>\n\n        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Profile</CardTitle>\n              <Users className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{session.user.name}</div>\n              <p className=\"text-xs text-muted-foreground\">{session.user.email}</p>\n              <div className=\"mt-2\">\n                <span className=\"inline-flex items-center rounded-full bg-zinc-800 px-2.5 py-0.5 text-xs font-medium text-zinc-300\">\n                  {session.user.role || \"user\"}\n                </span>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Games</CardTitle>\n              <GamepadIcon className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">2</div>\n              <p className=\"text-xs text-muted-foreground\">Available games</p>\n              <div className=\"mt-4\">\n                <Link href=\"/\">\n                  <Button variant=\"outline\" size=\"sm\">\n                    Play Now\n                  </Button>\n                </Link>\n              </div>\n            </CardContent>\n          </Card>\n\n          {isAdmin && (\n            <Card className=\"border-amber-500/50 bg-amber-950/20\">\n              <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                <CardTitle className=\"text-sm font-medium\">Admin Panel</CardTitle>\n                <Shield className=\"h-4 w-4 text-amber-500\" />\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold text-amber-500\">Access Granted</div>\n                <p className=\"text-xs text-muted-foreground\">Manage users and roles</p>\n                <div className=\"mt-4\">\n                  <Link href=\"/admin\">\n                    <Button variant=\"outline\" size=\"sm\" className=\"border-amber-500/50 hover:bg-amber-950/40\">\n                      Open Admin\n                    </Button>\n                  </Link>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Session Information</CardTitle>\n            <CardDescription>Your current session details</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <dl className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\n              <div>\n                <dt className=\"text-sm font-medium text-muted-foreground\">User ID</dt>\n                <dd className=\"mt-1 text-sm text-foreground\">{session.user.id}</dd>\n              </div>\n              <div>\n                <dt className=\"text-sm font-medium text-muted-foreground\">Session ID</dt>\n                <dd className=\"mt-1 text-sm text-foreground truncate\">{session.session.id}</dd>\n              </div>\n              <div>\n                <dt className=\"text-sm font-medium text-muted-foreground\">Created At</dt>\n                <dd className=\"mt-1 text-sm text-foreground\">\n                  {new Date(session.session.createdAt).toLocaleString()}\n                </dd>\n              </div>\n              <div>\n                <dt className=\"text-sm font-medium text-muted-foreground\">Expires At</dt>\n                <dd className=\"mt-1 text-sm text-foreground\">\n                  {new Date(session.session.expiresAt).toLocaleString()}\n                </dd>\n              </div>\n            </dl>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:page",
      "target": "app\\dashboard\\page.tsx"
    },
    {
      "path": "app\\globals.css",
      "content": "@import \"tailwindcss\";\n@import \"tw-animate-css\";\n\n@custom-variant dark (&:is(.dark *));\n\n@theme inline {\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --font-sans: var(--font-geist-sans);\n  --font-mono: var(--font-geist-mono);\n  --color-sidebar-ring: var(--sidebar-ring);\n  --color-sidebar-border: var(--sidebar-border);\n  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);\n  --color-sidebar-accent: var(--sidebar-accent);\n  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);\n  --color-sidebar-primary: var(--sidebar-primary);\n  --color-sidebar-foreground: var(--sidebar-foreground);\n  --color-sidebar: var(--sidebar);\n  --color-chart-5: var(--chart-5);\n  --color-chart-4: var(--chart-4);\n  --color-chart-3: var(--chart-3);\n  --color-chart-2: var(--chart-2);\n  --color-chart-1: var(--chart-1);\n  --color-ring: var(--ring);\n  --color-input: var(--input);\n  --color-border: var(--border);\n  --color-destructive: var(--destructive);\n  --color-accent-foreground: var(--accent-foreground);\n  --color-accent: var(--accent);\n  --color-muted-foreground: var(--muted-foreground);\n  --color-muted: var(--muted);\n  --color-secondary-foreground: var(--secondary-foreground);\n  --color-secondary: var(--secondary);\n  --color-primary-foreground: var(--primary-foreground);\n  --color-primary: var(--primary);\n  --color-popover-foreground: var(--popover-foreground);\n  --color-popover: var(--popover);\n  --color-card-foreground: var(--card-foreground);\n  --color-card: var(--card);\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n}\n\n:root {\n  --radius: 0.625rem;\n  --background: oklch(1 0 0);\n  --foreground: oklch(0.141 0.005 285.823);\n  --card: oklch(1 0 0);\n  --card-foreground: oklch(0.141 0.005 285.823);\n  --popover: oklch(1 0 0);\n  --popover-foreground: oklch(0.141 0.005 285.823);\n  --primary: oklch(0.21 0.006 285.885);\n  --primary-foreground: oklch(0.985 0 0);\n  --secondary: oklch(0.967 0.001 286.375);\n  --secondary-foreground: oklch(0.21 0.006 285.885);\n  --muted: oklch(0.967 0.001 286.375);\n  --muted-foreground: oklch(0.552 0.016 285.938);\n  --accent: oklch(0.967 0.001 286.375);\n  --accent-foreground: oklch(0.21 0.006 285.885);\n  --destructive: oklch(0.577 0.245 27.325);\n  --border: oklch(0.92 0.004 286.32);\n  --input: oklch(0.92 0.004 286.32);\n  --ring: oklch(0.705 0.015 286.067);\n  --chart-1: oklch(0.646 0.222 41.116);\n  --chart-2: oklch(0.6 0.118 184.704);\n  --chart-3: oklch(0.398 0.07 227.392);\n  --chart-4: oklch(0.828 0.189 84.429);\n  --chart-5: oklch(0.769 0.188 70.08);\n  --sidebar: hsl(0 0% 98%);\n  --sidebar-foreground: hsl(240 5.3% 26.1%);\n  --sidebar-primary: hsl(240 5.9% 10%);\n  --sidebar-primary-foreground: hsl(0 0% 98%);\n  --sidebar-accent: hsl(240 4.8% 95.9%);\n  --sidebar-accent-foreground: hsl(240 5.9% 10%);\n  --sidebar-border: hsl(220 13% 91%);\n  --sidebar-ring: hsl(217.2 91.2% 59.8%);\n}\n\n.dark {\n  --background: oklch(0.141 0.005 285.823);\n  --foreground: oklch(0.985 0 0);\n  --card: oklch(0.21 0.006 285.885);\n  --card-foreground: oklch(0.985 0 0);\n  --popover: oklch(0.21 0.006 285.885);\n  --popover-foreground: oklch(0.985 0 0);\n  --primary: oklch(0.92 0.004 286.32);\n  --primary-foreground: oklch(0.21 0.006 285.885);\n  --secondary: oklch(0.274 0.006 286.033);\n  --secondary-foreground: oklch(0.985 0 0);\n  --muted: oklch(0.274 0.006 286.033);\n  --muted-foreground: oklch(0.705 0.015 286.067);\n  --accent: oklch(0.274 0.006 286.033);\n  --accent-foreground: oklch(0.985 0 0);\n  --destructive: oklch(0.704 0.191 22.216);\n  --border: oklch(1 0 0 / 10%);\n  --input: oklch(1 0 0 / 15%);\n  --ring: oklch(0.552 0.016 285.938);\n  --chart-1: oklch(0.488 0.243 264.376);\n  --chart-2: oklch(0.696 0.17 162.48);\n  --chart-3: oklch(0.769 0.188 70.08);\n  --chart-4: oklch(0.627 0.265 303.9);\n  --chart-5: oklch(0.645 0.246 16.439);\n  --sidebar: hsl(240 5.9% 10%);\n  --sidebar-foreground: hsl(240 4.8% 95.9%);\n  --sidebar-primary: hsl(224.3 76.3% 48%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(240 3.7% 15.9%);\n  --sidebar-accent-foreground: hsl(240 4.8% 95.9%);\n  --sidebar-border: hsl(240 3.7% 15.9%);\n  --sidebar-ring: hsl(217.2 91.2% 59.8%);\n}\n\n@layer base {\n  * {\n    @apply border-border outline-ring/50;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n\n::view-transition-old(root),\n::view-transition-new(root) {\n  animation: none;\n  mix-blend-mode: normal;\n}",
      "type": "registry:block",
      "target": "app\\globals.css"
    },
    {
      "path": "app\\layout.tsx",
      "content": "import type { Metadata } from \"next\";\nimport { Geist, Geist_Mono } from \"next/font/google\";\nimport { Providers } from \"@/components/providers\";\nimport { Navbar } from \"@/components/navbar\";\nimport { Toaster } from \"@/components/ui/sonner\";\nimport \"@/lib/orpc.server\"; // for pre-rendering\nimport \"./globals.css\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\nexport const metadata: Metadata = {\n  title: \"Create Next App\",\n  description: \"Generated by create next app\",\n};\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\">\n      <body\n        className={`${geistSans.variable} ${geistMono.variable} antialiased`}\n      >\n        <Providers>\n          <Navbar />\n          {children}\n        </Providers>\n        <Toaster />\n      </body>\n    </html>\n  );\n}\n",
      "type": "registry:component",
      "target": "app\\layout.tsx"
    },
    {
      "path": "app\\page.tsx",
      "content": "import Image from \"next/image\";\n\nexport default function Home() {\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-zinc-50 font-sans dark:bg-black\">\n      <main className=\"flex min-h-screen w-full max-w-3xl flex-col items-center justify-between py-32 px-16 bg-white dark:bg-black sm:items-start\">\n        <Image\n          className=\"dark:invert\"\n          src=\"/next.svg\"\n          alt=\"Next.js logo\"\n          width={100}\n          height={20}\n          priority\n        />\n        <div className=\"flex flex-col items-center gap-6 text-center sm:items-start sm:text-left\">\n          <h1 className=\"max-w-xs text-3xl font-semibold leading-10 tracking-tight text-black dark:text-zinc-50\">\n            To get started, edit the page.tsx file.\n          </h1>\n          <p className=\"max-w-md text-lg leading-8 text-zinc-600 dark:text-zinc-400\">\n            Looking for a starting point or more instructions? Head over to{\" \"}\n            <a\n              href=\"https://vercel.com/templates?framework=next.js&utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app\"\n              className=\"font-medium text-zinc-950 dark:text-zinc-50\"\n            >\n              Templates\n            </a>{\" \"}\n            or the{\" \"}\n            <a\n              href=\"https://nextjs.org/learn?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app\"\n              className=\"font-medium text-zinc-950 dark:text-zinc-50\"\n            >\n              Learning\n            </a>{\" \"}\n            center.\n          </p>\n        </div>\n        <div className=\"flex flex-col gap-4 text-base font-medium sm:flex-row\">\n          <a\n            className=\"flex h-12 w-full items-center justify-center gap-2 rounded-full bg-foreground px-5 text-background transition-colors hover:bg-[#383838] dark:hover:bg-[#ccc] md:w-[158px]\"\n            href=\"https://vercel.com/new?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <Image\n              className=\"dark:invert\"\n              src=\"/vercel.svg\"\n              alt=\"Vercel logomark\"\n              width={16}\n              height={16}\n            />\n            Deploy Now\n          </a>\n          <a\n            className=\"flex h-12 w-full items-center justify-center rounded-full border border-solid border-black/[.08] px-5 transition-colors hover:border-transparent hover:bg-black/[.04] dark:border-white/[.145] dark:hover:bg-[#1a1a1a] md:w-[158px]\"\n            href=\"https://nextjs.org/docs?utm_source=create-next-app&utm_medium=appdir-template-tw&utm_campaign=create-next-app\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Documentation\n          </a>\n        </div>\n      </main>\n    </div>\n  );\n}\n",
      "type": "registry:page",
      "target": "app\\page.tsx"
    },
    {
      "path": "app\\rpc\\[[...rest]]\\route.ts",
      "content": "import { RPCHandler } from \"@orpc/server/fetch\";\r\nimport { OpenAPIHandler } from \"@orpc/openapi/fetch\";\r\nimport { onError } from \"@orpc/server\";\r\nimport { router } from \"@/lib/router\";\r\n\r\nconst rpcHandler = new RPCHandler(router, {\r\n  interceptors: [\r\n    onError((error) => {\r\n      console.error(error);\r\n    }),\r\n  ],\r\n});\r\n\r\nconst openAPIHandler = new OpenAPIHandler(router, {\r\n  interceptors: [\r\n    onError((error) => {\r\n      console.error(error);\r\n    }),\r\n  ],\r\n});\r\n\r\nasync function handleRequest(request: Request) {\r\n  // Try OpenAPI handler first (for REST routes)\r\n  const openAPIResult = await openAPIHandler.handle(request, {\r\n    prefix: \"/rpc\",\r\n    context: {},\r\n  });\r\n\r\n  if (openAPIResult.response) {\r\n    return openAPIResult.response;\r\n  }\r\n\r\n  // Fallback to RPC handler (for procedure calls)\r\n  const rpcResult = await rpcHandler.handle(request, {\r\n    prefix: \"/rpc\",\r\n    context: {},\r\n  });\r\n\r\n  return rpcResult.response ?? new Response(\"Not found\", { status: 404 });\r\n}\r\n\r\nexport const HEAD = handleRequest;\r\nexport const GET = handleRequest;\r\nexport const POST = handleRequest;\r\nexport const PUT = handleRequest;\r\nexport const PATCH = handleRequest;\r\nexport const DELETE = handleRequest;\r\n",
      "type": "registry:block",
      "target": "app\\rpc\\[[...rest]]\\route.ts"
    },
    {
      "path": "components\\admin\\admin-header.tsx",
      "content": "\"use client\";\n\nimport Link from \"next/link\";\nimport { Button } from \"@/components/ui/button\";\nimport { Shield, ArrowLeft } from \"lucide-react\";\nimport { SignOutButton } from \"@/components/auth/sign-out-button\";\nimport type { Session } from \"@/lib/auth\";\n\ninterface AdminHeaderProps {\n  session: Session;\n}\n\nexport function AdminHeader({ session }: AdminHeaderProps) {\n  return (\n    <div className=\"border-b border-zinc-800 bg-zinc-950/50 backdrop-blur-sm\">\n      <div className=\"container mx-auto flex h-16 items-center justify-between px-6\">\n        <div className=\"flex items-center gap-4\">\n          <Link href=\"/dashboard\">\n            <Button variant=\"ghost\" size=\"sm\">\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\n              Back to Dashboard\n            </Button>\n          </Link>\n          <div className=\"flex items-center gap-2\">\n            <Shield className=\"h-6 w-6 text-amber-500\" />\n            <h1 className=\"text-xl font-bold text-white\">Admin Panel</h1>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-4\">\n          <div className=\"text-right\">\n            <p className=\"text-sm font-medium text-white\">{session.user.name}</p>\n            <p className=\"text-xs text-zinc-400\">{session.user.role}</p>\n          </div>\n          <SignOutButton />\n        </div>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components\\admin\\admin-header.tsx"
    },
    {
      "path": "components\\admin\\user-actions.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { authClient } from \"@/lib/auth-client\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  MoreHorizontal,\n  Shield,\n  Ban,\n  Unlock,\n  Trash2,\n  User,\n} from \"lucide-react\";\nimport { toast } from \"sonner\";\n\ninterface User {\n  id: string;\n  name: string | null;\n  email: string;\n  role: string;\n  banned: boolean;\n  banReason?: string | null;\n  banExpires?: Date | null;\n  createdAt?: Date | null;\n}\n\ninterface UserActionsProps {\n  user: User;\n  onUpdate: () => void;\n}\n\nexport function UserActions({ user, onUpdate }: UserActionsProps) {\n  const [roleDialogOpen, setRoleDialogOpen] = useState(false);\n  const [banDialogOpen, setBanDialogOpen] = useState(false);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [selectedRole, setSelectedRole] = useState(user.role || \"user\");\n  const [banReason, setBanReason] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleRoleChange = async () => {\n    setLoading(true);\n    try {\n      // Type assertion needed because Better Auth types don't include custom adminRoles\n      await authClient.admin.setRole({\n        userId: user.id,\n        role: selectedRole as \"user\" | \"admin\",\n      });\n      toast.success(`Role updated to ${selectedRole}`);\n      setRoleDialogOpen(false);\n      onUpdate();\n    } catch (error) {\n      toast.error(\"Failed to update role\");\n      console.error(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleBanUser = async () => {\n    setLoading(true);\n    try {\n      await authClient.admin.banUser({\n        userId: user.id,\n        banReason: banReason || \"Violated terms of service\",\n      });\n      toast.success(`User ${user.name || user.email} has been banned`);\n      setBanDialogOpen(false);\n      onUpdate();\n    } catch (error) {\n      toast.error(\"Failed to ban user\");\n      console.error(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUnbanUser = async () => {\n    setLoading(true);\n    try {\n      await authClient.admin.unbanUser({\n        userId: user.id,\n      });\n      toast.success(`User ${user.name || user.email} has been unbanned`);\n      onUpdate();\n    } catch (error) {\n      toast.error(\"Failed to unban user\");\n      console.error(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteUser = async () => {\n    setLoading(true);\n    try {\n      await authClient.admin.removeUser({\n        userId: user.id,\n      });\n      toast.success(`User ${user.name || user.email} has been deleted`);\n      setDeleteDialogOpen(false);\n      onUpdate();\n    } catch (error) {\n      toast.error(\"Failed to delete user\");\n      console.error(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <DropdownMenu>\n        <DropdownMenuTrigger asChild>\n          <Button variant=\"ghost\" size=\"sm\">\n            <MoreHorizontal className=\"h-4 w-4\" />\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"end\">\n          <DropdownMenuLabel>Actions</DropdownMenuLabel>\n          <DropdownMenuSeparator />\n          <DropdownMenuItem onClick={() => setRoleDialogOpen(true)}>\n            <Shield className=\"mr-2 h-4 w-4\" />\n            Change Role\n          </DropdownMenuItem>\n          {user.banned ? (\n            <DropdownMenuItem onClick={handleUnbanUser} disabled={loading}>\n              <Unlock className=\"mr-2 h-4 w-4\" />\n              Unban User\n            </DropdownMenuItem>\n          ) : (\n            <DropdownMenuItem onClick={() => setBanDialogOpen(true)}>\n              <Ban className=\"mr-2 h-4 w-4\" />\n              Ban User\n            </DropdownMenuItem>\n          )}\n          <DropdownMenuSeparator />\n          <DropdownMenuItem\n            onClick={() => setDeleteDialogOpen(true)}\n            className=\"text-destructive focus:text-destructive\"\n          >\n            <Trash2 className=\"mr-2 h-4 w-4\" />\n            Delete User\n          </DropdownMenuItem>\n        </DropdownMenuContent>\n      </DropdownMenu>\n\n      {/* Role Change Dialog */}\n      <Dialog open={roleDialogOpen} onOpenChange={setRoleDialogOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Change User Role</DialogTitle>\n            <DialogDescription>\n              Update the role for {user.name || user.email}\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"role\">Role</Label>\n              <Select value={selectedRole} onValueChange={setSelectedRole}>\n                <SelectTrigger id=\"role\">\n                  <SelectValue placeholder=\"Select a role\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"user\">User</SelectItem>\n                  <SelectItem value=\"admin\">Admin</SelectItem>\n                  <SelectItem value=\"super-admin\">Super Admin</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setRoleDialogOpen(false)}\n              disabled={loading}\n            >\n              Cancel\n            </Button>\n            <Button onClick={handleRoleChange} disabled={loading}>\n              {loading ? \"Updating...\" : \"Update Role\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Ban User Dialog */}\n      <Dialog open={banDialogOpen} onOpenChange={setBanDialogOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Ban User</DialogTitle>\n            <DialogDescription>\n              This will prevent {user.name || user.email} from accessing the platform\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"reason\">Reason (optional)</Label>\n              <Textarea\n                id=\"reason\"\n                placeholder=\"Enter reason for ban...\"\n                value={banReason}\n                onChange={(e) => setBanReason(e.target.value)}\n              />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setBanDialogOpen(false)}\n              disabled={loading}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"destructive\"\n              onClick={handleBanUser}\n              disabled={loading}\n            >\n              {loading ? \"Banning...\" : \"Ban User\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Delete User Dialog */}\n      <Dialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Delete User</DialogTitle>\n            <DialogDescription>\n              Are you sure you want to permanently delete {user.name || user.email}? This\n              action cannot be undone.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setDeleteDialogOpen(false)}\n              disabled={loading}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"destructive\"\n              onClick={handleDeleteUser}\n              disabled={loading}\n            >\n              {loading ? \"Deleting...\" : \"Delete User\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n",
      "type": "registry:component",
      "target": "components\\admin\\user-actions.tsx"
    },
    {
      "path": "components\\admin\\user-management.tsx",
      "content": "\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { client } from \"@/lib/orpc\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Spinner } from \"@/components/ui/spinner\";\nimport { UserActions } from \"./user-actions\";\nimport { Users, RefreshCw } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\ninterface User {\n  id: string;\n  name: string | null;\n  email: string;\n  role: string;\n  banned: boolean;\n  banReason?: string | null;\n  banExpires?: Date | null;\n  createdAt?: Date | null;\n}\n\nexport function UserManagement() {\n  const [users, setUsers] = useState<User[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const fetchUsers = async () => {\n    setLoading(true);\n    try {\n      // Fetch users via oRPC\n      const data = await client.admin.getUsers();\n      setUsers(data.users);\n    } catch (error) {\n      console.error(\"Failed to fetch users:\", error);\n      toast.error(\n        error instanceof Error ? error.message : \"Failed to fetch users\"\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const handleUserUpdate = () => {\n    fetchUsers();\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Users className=\"h-5 w-5 text-amber-500\" />\n            <div>\n              <CardTitle>User Management</CardTitle>\n              <CardDescription>\n                Manage users, roles, and permissions\n              </CardDescription>\n            </div>\n          </div>\n          <Button\n            onClick={fetchUsers}\n            variant=\"outline\"\n            size=\"sm\"\n            disabled={loading}\n          >\n            <RefreshCw\n              className={`mr-2 h-4 w-4 ${loading ? \"animate-spin\" : \"\"}`}\n            />\n            Refresh\n          </Button>\n        </div>\n      </CardHeader>\n      <CardContent>\n        {loading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <Spinner className=\"h-8 w-8\" />\n          </div>\n        ) : users.length === 0 ? (\n          <div className=\"text-center py-12 text-muted-foreground\">\n            No users found. Users will appear here once they sign up.\n          </div>\n        ) : (\n          <div className=\"rounded-md border\">\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>Name</TableHead>\n                  <TableHead>Email</TableHead>\n                  <TableHead>Role</TableHead>\n                  <TableHead>Status</TableHead>\n                  <TableHead>Joined</TableHead>\n                  <TableHead className=\"text-right\">Actions</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {users.map((user) => (\n                  <TableRow key={user.id}>\n                    <TableCell className=\"font-medium\">\n                      {user.name || \"N/A\"}\n                    </TableCell>\n                    <TableCell>{user.email}</TableCell>\n                    <TableCell>\n                      <Badge\n                        variant={\n                          user.role === \"admin\" || user.role === \"super-admin\"\n                            ? \"default\"\n                            : \"secondary\"\n                        }\n                      >\n                        {user.role || \"user\"}\n                      </Badge>\n                    </TableCell>\n                    <TableCell>\n                      {user.banned ? (\n                        <Badge variant=\"destructive\">Banned</Badge>\n                      ) : (\n                        <Badge\n                          variant=\"outline\"\n                          className=\"text-green-500 border-green-500\"\n                        >\n                          Active\n                        </Badge>\n                      )}\n                    </TableCell>\n                    <TableCell>\n                      {user.createdAt\n                        ? new Date(user.createdAt).toLocaleDateString()\n                        : \"N/A\"}\n                    </TableCell>\n                    <TableCell className=\"text-right\">\n                      <UserActions user={user} onUpdate={handleUserUpdate} />\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n",
      "type": "registry:component",
      "target": "components\\admin\\user-management.tsx"
    },
    {
      "path": "components\\auth\\sign-out-button.tsx",
      "content": "\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { authClient } from \"@/lib/auth-client\";\nimport { Button } from \"@/components/ui/button\";\nimport { LogOut } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { Spinner } from \"@/components/ui/spinner\";\n\nexport function SignOutButton() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n\n  const handleSignOut = async () => {\n    setLoading(true);\n    try {\n      await authClient.signOut();\n      router.push(\"/sign-in\");\n    } catch (error) {\n      console.error(\"Failed to sign out:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Button onClick={handleSignOut} variant=\"outline\" disabled={loading}>\n      {loading ? (\n        <>\n          <Spinner className=\"mr-2 h-4 w-4\" />\n          Signing out...\n        </>\n      ) : (\n        <>\n          <LogOut className=\"mr-2 h-4 w-4\" />\n          Sign Out\n        </>\n      )}\n    </Button>\n  );\n}\n",
      "type": "registry:component",
      "target": "components\\auth\\sign-out-button.tsx"
    },
    {
      "path": "components\\games\\rock-paper-scissor\\index.tsx",
      "content": "\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\n\r\n// SVG Components (reused from original)\r\nconst RockIcon = () => (\r\n  <svg\r\n    aria-label=\"Rock\"\r\n    className=\"h-full w-full\"\r\n    viewBox=\"0 0 309.274 282.945\"\r\n  >\r\n    <title>Rock</title>\r\n    <g>\r\n      <path\r\n        d=\"M274.085,123.143c-2.976-11.404-7.057-22.556-11.228-33.537c-2.789-7.34-5.713-14.627-8.475-21.98\r\n        c-0.385-1.024-0.791-2.045-1.191-3.066c-2.01-1.381-3.938-2.896-5.791-4.482c-7.007-4.258-13.768-8.834-21.1-12.621\r\n        c-9.2-4.752-18.252-9.584-27.888-13.422c-13.671-5.445-28.599-9.875-43.546-11.748c0.018-0.005,0.036-0.008,0.055-0.012\r\n        c-0.365-0.047-0.73-0.093-1.095-0.139c-3.302,0.229-6.676,0.841-10.009,0.803c-0.162,0.051-0.324,0.094-0.486,0.146\r\n        c-0.779,0.246-1.561,0.488-2.342,0.728c-0.816,0.16-1.629,0.335-2.434,0.546c-2.658,0.699-5.27,1.576-7.85,2.535\r\n        c-2.545,0.777-5.08,1.589-7.596,2.486c-2.974,1.061-5.942,2.295-8.652,3.926c-0.384,0.23-0.764,0.508-1.143,0.81\r\n        c-0.785,0.369-1.574,0.735-2.347,1.129c-1.886,0.957-3.677,1.976-5.506,3.016c-1.637,0.928-2.372,2.989-3.39,4.45\r\n        C90.282,59.617,80.513,77.49,72.122,96.288c-4.256,9.536-8.756,18.917-12.242,28.776c-0.881,2.492-1.629,5.028-2.337,7.573\r\n        c-0.563,2.023-1.343,3.656-1.258,5.78c0.059,1.488,0.778,2.899,1.353,4.242c1.242,2.903,2.686,5.693,3.82,8.65\r\n        c1.725,4.49,3.205,8.773,5.467,13.022c2.499,4.694,5.213,9.275,7.684,13.982c2.158,4.109,4.158,8.031,6.895,11.795\r\n        c2.473,3.402,4.197,6.496,7.715,8.92c2.375,1.636,4.496,3.618,6.746,5.42c2.568,2.053,5.464,3.684,8.205,5.493\r\n        c5.732,3.782,11.178,7.83,16.553,12.105c9.818,7.813,20.291,14.984,30.879,21.764c1.907,0.524,3.748,1.369,5.475,2.246\r\n        c0.604,0.307,1.201,0.625,1.793,0.95c0.756-0.188,1.49-0.388,2.182-0.62c4.195-1.416,8.299-3.123,12.441-4.688\r\n        c8.129-3.068,16.268-6.092,24.266-9.48c3.873-1.643,7.879-2.959,11.689-4.729c3.83-1.778,7.668-3.577,11.564-5.2\r\n        c3.805-1.585,7.596-3.186,11.318-4.957c3.862-1.835,7.355-4.249,11.131-6.212c2.633-1.367,5.592-2.651,7.125-5.359\r\n        c1.693-2.99,2.536-6.691,3.563-9.957c2.76-8.782,5.019-17.742,7.746-26.544c2.627-8.474,5.528-16.849,8.408-25.239\r\n        c0.74-2.158,1.463-4.403,2.207-6.672c0.787-2.829,1.851-5.588,2.678-8.41C274.676,127.024,274.271,125.094,274.085,123.143z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nconst PaperIcon = () => (\r\n  <svg id=\"svg4883\" version=\"1.1\" viewBox=\"0 0 765 990\">\r\n    <title>Paper Icon</title>\r\n    <defs id=\"defs4885\">\r\n      <filter id=\"filter12589\">\r\n        <feGaussianBlur id=\"feGaussianBlur12591\" stdDeviation=\"2.6717241\" />\r\n      </filter>\r\n    </defs>\r\n    <g id=\"layer1\" transform=\"translate(0 -62.362)\">\r\n      <path\r\n        d=\"m11.084 72.444v969.55h699.16c27.525 0 49.597-21.711 49.597-48.663v-872.23c0-26.952-22.072-48.663-49.597-48.663h-699.16z\"\r\n        fill=\"#fff\"\r\n        id=\"path8098\"\r\n        stroke=\"#979797\"\r\n        strokeWidth=\"3.5504\"\r\n      />\r\n      <path\r\n        d=\"m10.143 182.56h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5538\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n        style={{ color: \"#000000\" }}\r\n      />\r\n      <path\r\n        d=\"m10.143 229.33h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5540\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 277.12h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5542\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 324.91h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5544\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 372.7h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5546\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 420.49h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5548\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 468.28h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5550\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 516.07h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5552\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 563.86h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5554\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 611.65h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5556\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 659.45h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5592\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 707.24h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5594\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 755.03h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5596\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 802.82h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5598\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 850.61h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5600\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 898.4h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5602\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 946.19h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5604\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n      <path\r\n        d=\"m10.143 993.98h750.64\"\r\n        fill=\"#00f\"\r\n        id=\"path5606\"\r\n        stroke=\"#01f\"\r\n        strokeWidth=\"1.6689px\"\r\n      />\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nconst ScissorsIcon = () => (\r\n  <svg\r\n    aria-label=\"Scissors Icon\"\r\n    style={{ background: \"new 0 0 2122 2122\" }}\r\n    viewBox=\"0 0 2122 2122\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <title>Scissors Icon</title>\r\n    <g>\r\n      <path\r\n        d=\"M809.446,1224.667c-10.28-20.243-26.041-41.598-39.552-63.893\r\n\t\tc-117.091,138.042-211.927,310.679-281.676,467.488c-29.023,65.325-53.091,133.077-68.424,202.938\r\n\t\tc-7.445,34.007-43.035,158.772,29.213,114.879l0.176-0.088c60.019-36.619,103.805-98.212,150.869-150.353\r\n\t\tc52.96-58.641,105.871-117.257,158.83-175.893c40.326-44.662,80.663-89.359,120.989-134.017\r\n\t\tc-4.867-24.068-7.191-48.867-10.904-73.232C859.093,1347.547,839.22,1283.328,809.446,1224.667z\"\r\n        style={{ fill: \"#91A9D8\" }}\r\n      />\r\n      <path\r\n        d=\"M975.643,1223.386c-11.24,2.943-22.611,3.235-33.481-0.969\r\n\t\tc-13.179-5.077-25.174-13.613-36.312-24.151c-32.526-30.772-41.403-77.252-64.75-114.027\r\n\t\tc-24.57,23.951-48.321,49.568-71.206,76.536c13.51,22.295,29.271,43.649,39.552,63.893c29.773,58.661,49.647,122.879,59.523,187.83\r\n\t\tc3.712,24.365,6.036,49.164,10.904,73.232c54.095-59.907,108.19-119.815,162.28-179.722\r\n\t\tc-12.365-15.099-24.736-30.198-37.101-45.296C995.77,1249.374,985.66,1236.819,975.643,1223.386z\"\r\n        style={{ fill: \"#7594C6\" }}\r\n      />\r\n      <path\r\n        d=\"M1767.093,400.834c-25.843-94.243-104.968-163.191-190.58-203.752\r\n\t\tc-73.838-35.023-162.443-38.266-237.029-8.731c-86.51,34.275-150.12,109.06-185.392,192.676\r\n\t\tc-35.323,83.616-44.952,175.813-46.698,266.863c-0.698,38.914-0.25,78.927-14.668,114.897\r\n\t\tc-8.581,21.403-21.703,39.812-37.168,56.725c41.009,46.298,97.436,83.816,126.821,138.396c8.033,14.867,13.969,31.83,10.626,48.493\r\n\t\tc-1.446,7.134-4.49,13.77-8.231,20.106c9.43,7.833,18.509,16.065,27.29,24.446c14.669,14.069,28.987,28.787,42.956,44.053\r\n\t\tc30.682-38.964,122.78-118.539,163.691-138.595C1611.885,861.721,1832.999,641.256,1767.093,400.834z M1220.346,601.293\r\n\t\tc-8.233-76.532,9.129-160.198,56.126-220.315c59.169-75.484,167.033-96.438,254.191-61.465\r\n\t\tc112.951,45.25,145.33,168.729,102.175,277.141c-26.692,67.003-83.566,135.602-153.163,159.898\r\n\t\tC1356.595,799.557,1232.019,709.406,1220.346,601.293z\"\r\n        style={{ fill: \"#C11833\" }}\r\n      />\r\n      <path\r\n        d=\"M1575.292,1648.964c-62.105-159.985-148.506-336.993-258.806-480.521\r\n\t\tc-14.568,21.617-31.338,42.183-42.587,61.91c-32.57,57.154-55.512,120.346-68.511,184.74c-4.882,24.156-8.4,48.818-14.421,72.619\r\n\t\tc38.129,46.558,76.263,93.145,114.387,139.697c50.07,61.126,100.098,122.222,150.168,183.347\r\n\t\tc44.497,54.349,85.262,117.983,143.44,157.457l0.171,0.092c70.051,47.328,40.516-79.011,34.723-113.335\r\n\t\tC1621.908,1784.448,1601.133,1715.619,1575.292,1648.964z\"\r\n        style={{ fill: \"#B5C5E7\" }}\r\n      />\r\n      <path\r\n        d=\"M1273.899,1230.353c11.25-19.727,28.019-40.292,42.587-61.91\r\n\t\tc-19.718-25.642-40.205-50.192-61.447-73.413c-13.997-15.294-28.307-30.022-42.971-44.051\r\n\t\tc-8.794-8.412-17.886-16.619-27.279-24.453c-2.543,4.358-5.389,8.587-8.273,12.726c-42.168,60.392-94.388,114.375-153.997,159.135\r\n\t\tc-13.929,10.456-30.256,20.648-46.874,24.999c10.017,13.432,20.127,25.988,29.408,37.325\r\n\t\tc12.365,15.098,24.736,30.197,37.101,45.296c49.608,60.57,99.211,121.14,148.814,181.705c6.022-23.801,9.54-48.463,14.421-72.619\r\n\t\tC1218.386,1350.699,1241.329,1287.508,1273.899,1230.353z\"\r\n        style={{ fill: \"#91A9D8\" }}\r\n      />\r\n      <path\r\n        d=\"M1182.379,957.909c-29.385-54.58-85.811-92.098-126.821-138.396\r\n\t\tc-17.412-19.657-32.03-40.91-40.612-65.755c-12.672-36.57-10.277-76.532-9.129-115.446c2.693-91.05-2.495-183.596-33.726-268.809\r\n\t\tc-31.231-85.213-91.2-162.992-175.913-201.357c-73.09-33.127-161.695-34.175-237.179-2.794\r\n\t\tc-87.458,36.42-169.827,101.527-200.21,194.373C281.41,596.703,491.647,827.546,680.033,931.468\r\n\t\tc41.06,22.65,133.207,110.856,159.15,149.771c0.7,0.948,1.298,1.996,1.897,2.993c23.348,36.769,32.229,83.267,64.757,114.049\r\n\t\tc11.175,10.527,23.149,19.058,36.321,24.147c10.876,4.191,22.251,3.891,33.476,0.948c16.614-4.34,32.977-14.518,46.896-24.995\r\n\t\tc59.62-44.752,111.805-98.733,153.962-159.15c2.893-4.141,5.737-8.332,8.282-12.722c3.742-6.336,6.786-12.971,8.231-20.106\r\n\t\tC1196.348,989.739,1190.412,972.777,1182.379,957.909z M895.26,586.326C878.448,693.74,749.63,777.755,628.746,728.913\r\n\t\tc-68.299-27.639-121.832-98.883-145.231-167.133c-37.916-110.357,0.35-232.14,115.347-271.902\r\n\t\tc88.755-30.683,195.52-4.59,250.949,73.688C893.913,425.879,907.184,510.293,895.26,586.326z\"\r\n        style={{ fill: \"#E51C37\" }}\r\n      />\r\n      <path\r\n        d=\"M922.956,1007.813c11.435,39.6,52.804,62.429,92.404,50.994\r\n\t\tc39.601-11.435,62.431-52.806,50.991-92.404c-11.435-39.6-52.804-62.431-92.404-50.993\r\n\t\tC934.347,926.843,911.517,968.215,922.956,1007.813z\"\r\n        style={{ fill: \"#577FBD\" }}\r\n      />\r\n      <path\r\n        d=\"M657.938,840.327c-79.166-56.312-152.287-111.383-210.406-190.136\r\n\t\tc-3.693-5.004-11.493-0.762-8.487,4.96c40.614,77.262,119.756,131.206,189.023,180.541c78.48,55.896,153.696,110.991,209.88,190.49\r\n\t\tc2.256,3.196,7.084,0.467,5.281-3.087C803.527,944.736,727.77,890.003,657.938,840.327z\"\r\n        style={{ fill: \"#1A1A1A\" }}\r\n      />\r\n      <path\r\n        d=\"M707.8,196.155c29.408,11.583,60.511,13.805,89.666,28.192\r\n\t\tc27.036,13.345,51.727,31.513,72.517,53.338c44.687,46.913,68.399,109.342,75.176,173.093c0.248,2.331,3.616,2.434,3.708,0\r\n\t\tc2.607-67.566-23.83-132.785-70.241-181.737c-23.274-24.548-51.411-44.675-82.095-58.913\r\n\t\tc-26.085-12.109-59.522-26.029-88.73-21.839C703.342,188.927,704.569,194.883,707.8,196.155z\"\r\n        style={{ fill: \"#1A1A1A\" }}\r\n      />\r\n      <path\r\n        d=\"M1550.848,826.035c-2.67,1.917-0.36,6.132,2.621,4.482\r\n\t\tc68.049-37.678,119.488-100.475,150.933-171.081c29.578-66.414,46.358-150.618,25.534-221.834\r\n\t\tc-1.198-4.095-7.868-3.476-7.649,1.035c3.65,75.198,0.541,144.611-29.559,214.962\r\n\t\tC1662.702,723.777,1612.587,781.706,1550.848,826.035z\"\r\n        style={{ fill: \"#1A1A1A\" }}\r\n      />\r\n      <path\r\n        d=\"M1264.276,307.039c26.748-15.486,48.555-36.92,76.901-50.38\r\n\t\tc31.722-15.057,66.441-23.52,101.539-24.643c68.268-2.18,129.198,24.87,182.406,65.715c2.324,1.786,4.902-1.944,3.031-3.929\r\n\t\tc-47.674-50.628-120.468-76.704-189.461-74.504c-59.951,1.912-146.743,27.659-179.362,82.794\r\n\t\tC1257.475,305.222,1261.158,308.845,1264.276,307.039z\"\r\n        style={{ fill: \"#1A1A1A\" }}\r\n      />\r\n      <path\r\n        d=\"M1111.126,929.06c13.559,15.695,53.34,47.851,43.586,70.926\r\n\t\tc-4.668,11.043-18.913,22.606-26.845,31.637c-8.365,9.532-16.736,19.067-25.106,28.599c-14.914,16.992-29.778,33.941-42.134,52.919\r\n\t\tc-1.949,2.996,2.222,5.637,4.662,3.596c25.481-21.335,46.777-47.396,68.896-72.081c12.673-14.139,37.306-33.252,36.745-54.753\r\n\t\tc-0.482-18.575-21.817-35.406-32.735-47.856c-20.575-23.469-39.854-50.848-64.745-69.876c-2.572-1.966-5.554,1.737-4.185,4.185\r\n\t\tC1080.208,895.932,1096.54,912.166,1111.126,929.06z\"\r\n        style={{ fill: \"#1A1A1A\" }}\r\n      />\r\n      <path\r\n        d=\"M740.964,1264.093c-88.238,96.964-155.166,210.533-210.728,328.827\r\n\t\tc-2.562,5.457,5.462,10.266,8.166,4.775c57.578-117.004,131.152-224.448,207.805-329.559\r\n\t\tC748.443,1265.072,743.493,1261.311,740.964,1264.093z\"\r\n        style={{ fill: \"#1A1A1A\" }}\r\n      />\r\n      <path\r\n        d=\"M508.945,1653.617c-21.92,34.406-38.913,73.028-47.766,112.969c-0.385,1.735,2.27,3.113,3.05,1.286\r\n\t\tc15.995-37.51,32.409-74.216,51.284-110.421C517.773,1653.11,511.581,1649.476,508.945,1653.617z\"\r\n        style={{ fill: \"#1A1A1A\" }}\r\n      />\r\n      <path\r\n        d=\"M1435.019,1424.239c-3.727-6.002-12.677-0.726-9.447,5.525\r\n\t\tc34.397,66.46,69.184,131.43,96.853,201.184c26.655,67.206,44.424,136.706,67.678,204.94c1.486,4.356,7.513,2.558,6.797-1.875\r\n\t\tc-11.858-73.17-39.508-145.846-67.186-214.348C1502.819,1553.111,1472.958,1485.31,1435.019,1424.239z\"\r\n        style={{ fill: \"#1A1A1A\" }}\r\n      />\r\n      <path\r\n        d=\"M1402.649,1370.197c1.213,2.07,4.287,0.243,3.201-1.871c-9.301-18.11-18.212-36.434-27.742-54.421\r\n\t\tc-8.2-15.479-15.391-33.525-27.693-46.134c-1.267-1.296-3.342,0.044-2.948,1.715c4.053,17.165,15.488,32.965,24.166,48.205\r\n\t\tC1381.689,1335.347,1392.364,1352.667,1402.649,1370.197z\"\r\n        style={{ fill: \"#1A1A1A\" }}\r\n      />\r\n      <path\r\n        d=\"M455.035,359.151c24.702-54.441,64.623-92.158,105.364-134.219\r\n\t\tc10.49-10.833-2.689-24.971-15.118-19.595c-58.46,25.298-101.983,85.942-125.798,143.089\r\n\t\tc-27.016,64.83-37.349,149.724-12.112,216.911c6.996,18.633,31.835,11.072,29.242-8.061\r\n\t\tC427.264,488.218,425.432,424.391,455.035,359.151z\"\r\n        style={{ fill: \"#FFFFFF\" }}\r\n      />\r\n      <path\r\n        d=\"M796.789,1507.303c-47.98,43.269-86.656,100.677-127.225,150.821\r\n\t\tc-41.466,51.249-82.943,102.48-123.912,154.129c-7.103,8.95,5.262,21.798,12.774,12.775\r\n\t\tc43.192-51.874,85.837-104.181,128.526-156.473c40.282-49.344,87.829-98.271,119.975-153.432\r\n\t\tC810.708,1508.633,802.153,1502.47,796.789,1507.303z\"\r\n        style={{ fill: \"#FFFFFF\" }}\r\n      />\r\n      <path\r\n        d=\"M1487.521,1774.669c-23.05-31.488-46.845-62.509-70.909-93.232\r\n\t\tc-25.457-32.502-51.366-64.657-77.437-96.662c-14.041-17.237-28.161-34.407-42.358-51.517\r\n\t\tc-11.177-13.467-20.278-27.703-37.218-33.715c-4.317-1.53-7.381,2.996-6.748,6.748c3.035,17.842,16.428,29.671,27.688,43.245\r\n\t\tc12.17,14.665,24.283,29.374,36.336,44.131c27.128,33.203,53.914,66.674,80.511,100.302c25.578,32.341,50.976,64.842,76.735,97.037\r\n\t\tc23.757,29.681,46.27,68.658,76.551,91.717c2.948,2.246,7.552-1.491,6.319-4.857\r\n\t\tC1543.491,1840.964,1510.644,1806.255,1487.521,1774.669z\"\r\n        style={{ fill: \"#FFFFFF\" }}\r\n      />\r\n    </g>\r\n  </svg>\r\n);\r\n\r\ntype Choice = \"rock\" | \"paper\" | \"scissors\";\r\ntype GameResult = \"win\" | \"lose\" | \"tie\";\r\ntype GameState = \"ready\" | \"playing\" | \"result\";\r\n\r\ntype GameStats = {\r\n  playerWins: number;\r\n  aiWins: number;\r\n  ties: number;\r\n};\r\n\r\nconst choices: Choice[] = [\"rock\", \"paper\", \"scissors\"];\r\n\r\nconst SVGChoice = ({\r\n  choice,\r\n  isSelected,\r\n  onClick,\r\n  disabled = false,\r\n}: {\r\n  choice: Choice;\r\n  isSelected: boolean;\r\n  onClick: () => void;\r\n  disabled?: boolean;\r\n}) => {\r\n  const renderChoice = () => {\r\n    if (choice === \"rock\") {\r\n      return <RockIcon />;\r\n    }\r\n    if (choice === \"paper\") {\r\n      return <PaperIcon />;\r\n    }\r\n    if (choice === \"scissors\") {\r\n      return <ScissorsIcon />;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <button\r\n      aria-label={`Select ${choice}`}\r\n      className={`cursor-pointer transition-transform hover:scale-105 ${\r\n        isSelected ? \"scale-110\" : \"\"\r\n      } ${disabled ? \"cursor-not-allowed opacity-50\" : \"\"}`}\r\n      disabled={disabled}\r\n      onClick={onClick}\r\n      type=\"button\"\r\n    >\r\n      <svg\r\n        aria-label={choice}\r\n        className=\"rounded-lg border-2 border-border bg-card\"\r\n        height=\"120\"\r\n        viewBox=\"0 0 120 120\"\r\n        width=\"120\"\r\n      >\r\n        <title>{choice}</title>\r\n        {renderChoice()}\r\n      </svg>\r\n      <p className=\"mt-2 text-center font-medium text-foreground capitalize\">\r\n        {choice}\r\n      </p>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default function RockPaperScissorsGame() {\r\n  const [gameState, setGameState] = useState<GameState>(\"ready\");\r\n  const [playerChoice, setPlayerChoice] = useState<Choice | null>(null);\r\n  const [computerChoice, setComputerChoice] = useState<Choice | null>(null);\r\n  const [result, setResult] = useState<GameResult | null>(null);\r\n  const [isAnimating, setIsAnimating] = useState(false);\r\n  const [showInstructions, setShowInstructions] = useState(true);\r\n  const [showResultDialog, setShowResultDialog] = useState(false);\r\n\r\n  const [stats, setStats] = useState<GameStats>({\r\n    playerWins: 0,\r\n    aiWins: 0,\r\n    ties: 0,\r\n  });\r\n\r\n  const getWinner = (player: Choice, computer: Choice): GameResult => {\r\n    if (player === computer) {\r\n      return \"tie\";\r\n    }\r\n    if (\r\n      (player === \"rock\" && computer === \"scissors\") ||\r\n      (player === \"paper\" && computer === \"rock\") ||\r\n      (player === \"scissors\" && computer === \"paper\")\r\n    ) {\r\n      return \"win\";\r\n    }\r\n    return \"lose\";\r\n  };\r\n\r\n  const updateStats = (gameResult: GameResult) => {\r\n    setStats((prev) => {\r\n      if (gameResult === \"win\") {\r\n        return { ...prev, playerWins: prev.playerWins + 1 };\r\n      }\r\n      if (gameResult === \"lose\") {\r\n        return { ...prev, aiWins: prev.aiWins + 1 };\r\n      }\r\n      return { ...prev, ties: prev.ties + 1 };\r\n    });\r\n  };\r\n\r\n  const playGame = (selectedChoice: Choice) => {\r\n    if (gameState !== \"ready\" || isAnimating) {\r\n      return;\r\n    }\r\n\r\n    setIsAnimating(true);\r\n    setPlayerChoice(selectedChoice);\r\n    setGameState(\"playing\");\r\n\r\n    const ANIMATION_DELAY = 1000;\r\n    const RESULT_DELAY = 1000;\r\n\r\n    // Animate computer choice selection\r\n    setTimeout(() => {\r\n      const aiChoice = choices[Math.floor(Math.random() * choices.length)];\r\n      const gameResult = getWinner(selectedChoice, aiChoice);\r\n\r\n      setComputerChoice(aiChoice);\r\n      setResult(gameResult);\r\n      setIsAnimating(false);\r\n      setGameState(\"result\");\r\n\r\n      updateStats(gameResult);\r\n\r\n      // Show result dialog\r\n      setTimeout(() => {\r\n        setShowResultDialog(true);\r\n      }, RESULT_DELAY);\r\n    }, ANIMATION_DELAY);\r\n  };\r\n\r\n  const resetGame = () => {\r\n    setPlayerChoice(null);\r\n    setComputerChoice(null);\r\n    setResult(null);\r\n    setIsAnimating(false);\r\n    setGameState(\"ready\");\r\n    setShowResultDialog(false);\r\n  };\r\n\r\n  const getResultMessage = () => {\r\n    if (!result) {\r\n      return \"Choose your move!\";\r\n    }\r\n    switch (result) {\r\n      case \"win\":\r\n        return \"ð You Win!\";\r\n      case \"lose\":\r\n        return \"ð» AI Wins!\";\r\n      case \"tie\":\r\n        return \"ð¤ It's a Tie!\";\r\n      default:\r\n        return \"Choose your move!\";\r\n    }\r\n  };\r\n\r\n  const getResultColor = () => {\r\n    switch (result) {\r\n      case \"win\":\r\n        return \"text-green-600\";\r\n      case \"lose\":\r\n        return \"text-red-600\";\r\n      case \"tie\":\r\n        return \"text-yellow-600\";\r\n      default:\r\n        return \"text-foreground\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Instruction Dialog */}\r\n      <Dialog open={showInstructions}>\r\n        <DialogContent\r\n          className=\"max-w-md\"\r\n          onEscapeKeyDown={(e) => e.preventDefault()}\r\n          onInteractOutside={(e) => e.preventDefault()}\r\n          onPointerDownOutside={(e) => e.preventDefault()}\r\n        >\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-center font-mono text-2xl\">\r\n              ðª¨ðâï¸ ROCK PAPER SCISSORS âï¸ððª¨\r\n            </DialogTitle>\r\n            <DialogDescription asChild>\r\n              <div className=\"space-y-4 text-center\">\r\n                <p className=\"font-semibold text-lg\">How to Play:</p>\r\n\r\n                <div className=\"space-y-2 text-left\">\r\n                  <p>â¢ Choose Rock, Paper, or Scissors</p>\r\n                  <p>â¢ Rock beats Scissors</p>\r\n                  <p>â¢ Paper beats Rock</p>\r\n                  <p>â¢ Scissors beats Paper</p>\r\n                  <p>â¢ Play against the AI and track your wins!</p>\r\n                </div>\r\n\r\n                <Button\r\n                  className=\"w-full font-mono\"\r\n                  onClick={() => setShowInstructions(false)}\r\n                  size=\"lg\"\r\n                >\r\n                  START GAME\r\n                </Button>\r\n\r\n                <Link className=\"w-full\" href=\"/games\">\r\n                  <Button\r\n                    className=\"w-full font-mono\"\r\n                    size=\"lg\"\r\n                    variant=\"outline\"\r\n                  >\r\n                    ð  GO TO GAMES\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            </DialogDescription>\r\n            s\r\n          </DialogHeader>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Result Dialog */}\r\n      <Dialog open={showResultDialog}>\r\n        <DialogContent\r\n          className=\"max-w-md\"\r\n          onEscapeKeyDown={(e) => e.preventDefault()}\r\n          onInteractOutside={(e) => e.preventDefault()}\r\n          onPointerDownOutside={(e) => e.preventDefault()}\r\n        >\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-center font-mono text-2xl\">\r\n              {result === \"win\" && \"ð VICTORY! ð\"}\r\n              {result === \"lose\" && \"ð DEFEAT ð\"}\r\n              {result === \"tie\" && \"ð¤ TIE! ð¤\"}\r\n            </DialogTitle>\r\n            <DialogDescription asChild>\r\n              <div className=\"space-y-4 text-center\">\r\n                <p className=\"font-semibold text-lg\">{getResultMessage()}</p>\r\n\r\n                {result === \"win\" && (\r\n                  <div className=\"rounded-lg bg-green-100 p-4 dark:bg-green-900\">\r\n                    <p className=\"font-bold text-green-800 dark:text-green-200\">\r\n                      Congratulations! You won! ð\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {result === \"lose\" && (\r\n                  <div className=\"rounded-lg bg-red-100 p-4 dark:bg-red-900\">\r\n                    <p className=\"font-bold text-red-800 dark:text-red-200\">\r\n                      The AI won this round! ð\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {result === \"tie\" && (\r\n                  <div className=\"rounded-lg bg-yellow-100 p-4 dark:bg-yellow-900\">\r\n                    <p className=\"font-bold text-yellow-800 dark:text-yellow-200\">\r\n                      It&apos;s a tie! Great minds think alike! ð¤\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                <Button\r\n                  className=\"w-full font-mono\"\r\n                  onClick={() => {\r\n                    resetGame();\r\n                    setShowResultDialog(false);\r\n                  }}\r\n                  size=\"lg\"\r\n                >\r\n                  PLAY AGAIN\r\n                </Button>\r\n\r\n                <div className=\"flex justify-center space-x-4 text-sm\">\r\n                  <span className=\"text-primary\">\r\n                    Your Wins: {stats.playerWins}\r\n                  </span>\r\n                  <span className=\"text-muted-foreground\">VS</span>\r\n                  <span className=\"text-destructive\">\r\n                    AI Wins: {stats.aiWins}\r\n                  </span>\r\n                  <span className=\"text-muted-foreground\">|</span>\r\n                  <span className=\"text-yellow-600\">Ties: {stats.ties}</span>\r\n                </div>\r\n              </div>\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Main Game */}\r\n      <div className=\"min-h-screen bg-background p-8\">\r\n        <div className=\"mx-auto max-w-4xl\">\r\n          <h1 className=\"mb-8 text-center font-bold text-4xl text-foreground\">\r\n            ðª¨ðâï¸ Rock Paper Scissors âï¸ððª¨\r\n          </h1>\r\n\r\n          {/* Score Board */}\r\n          <Card className=\"mb-8 p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"text-center\">\r\n                <h3 className=\"font-semibold text-foreground text-lg\">You</h3>\r\n                <p className=\"font-bold text-3xl text-accent\">\r\n                  {stats.playerWins}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <h3 className=\"font-bold text-2xl text-foreground\">VS</h3>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <h3 className=\"font-semibold text-foreground text-lg\">AI</h3>\r\n                <p className=\"font-bold text-3xl text-accent\">{stats.aiWins}</p>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <h3 className=\"font-semibold text-foreground text-lg\">Ties</h3>\r\n                <p className=\"font-bold text-3xl text-yellow-600\">\r\n                  {stats.ties}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n\r\n          <div className=\"mb-8 text-center\">\r\n            <h2 className={`font-bold text-2xl ${getResultColor()}`}>\r\n              {getResultMessage()}\r\n            </h2>\r\n            {isAnimating && (\r\n              <p className=\"mt-2 text-muted-foreground\">AI is thinking...</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Game Area */}\r\n          <div className=\"mb-8 grid gap-8 md:grid-cols-2\">\r\n            {/* Player Side */}\r\n            <Card className=\"p-6\">\r\n              <h3 className=\"mb-4 text-center font-semibold text-foreground text-xl\">\r\n                Your Choice\r\n              </h3>\r\n              <div className=\"flex justify-center gap-4\">\r\n                {choices.map((choice) => (\r\n                  <SVGChoice\r\n                    choice={choice}\r\n                    disabled={gameState !== \"ready\" || isAnimating}\r\n                    isSelected={playerChoice === choice}\r\n                    key={choice}\r\n                    onClick={() => playGame(choice)}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </Card>\r\n\r\n            {/* Computer Side */}\r\n            <Card className=\"p-6\">\r\n              <h3 className=\"mb-4 text-center font-semibold text-foreground text-xl\">\r\n                AI&apos;s Choice\r\n              </h3>\r\n              <div className=\"flex justify-center\">\r\n                {computerChoice ? (\r\n                  <SVGChoice\r\n                    choice={computerChoice}\r\n                    isSelected={true}\r\n                    onClick={() => {\r\n                      // No action needed for computer choice\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <div className=\"flex h-[120px] w-[120px] items-center justify-center rounded-lg border-2 border-muted-foreground border-dashed bg-muted\">\r\n                    <span className=\"text-2xl text-muted-foreground\">?</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"space-x-4 text-center\">\r\n            {gameState === \"result\" && (\r\n              <Button\r\n                className=\"bg-secondary px-8 py-2 text-secondary-foreground hover:bg-secondary/90\"\r\n                onClick={resetGame}\r\n              >\r\n                Play Again\r\n              </Button>\r\n            )}\r\n\r\n            <Link href=\"/games\">\r\n              <Button\r\n                className=\"bg-muted px-8 py-2 text-muted-foreground hover:bg-muted/90\"\r\n                variant=\"outline\"\r\n              >\r\n                Back to Games\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components\\games\\rock-paper-scissor\\index.tsx"
    },
    {
      "path": "components\\games\\showdown\\index.tsx",
      "content": "\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { toast } from \"sonner\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\n\r\ntype GameState =\r\n  | \"waiting\"\r\n  | \"ready\"\r\n  | \"countdown\"\r\n  | \"fire\"\r\n  | \"result\"\r\n  | \"staking\"\r\n  | \"contract_ready\";\r\ntype Winner = \"player\" | \"ai\" | \"none\";\r\n\r\ntype GameStats = {\r\n  playerWins: number;\r\n  aiWins: number;\r\n};\r\n\r\ntype ContractState = {\r\n  isConnected: boolean;\r\n  isStaked: boolean;\r\n  stakeAmount: bigint;\r\n  gamePool: bigint;\r\n  humanStake: bigint;\r\n  botCount: bigint;\r\n  gameStatus: bigint;\r\n};\r\n\r\nexport default function QuickDrawGame() {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n  const activeAddress = process.env.NEXT_PUBLIC_WALLET_ADDRESS || null;\r\n\r\n  const [gameState, setGameState] = useState<GameState>(\"waiting\");\r\n  const [winner, setWinner] = useState<Winner>(\"none\");\r\n  const [message, setMessage] = useState(\"Connect wallet to start staking!\");\r\n  const [stats, setStats] = useState<GameStats>({ playerWins: 0, aiWins: 0 });\r\n  const [playerShot, setPlayerShot] = useState(false);\r\n  const [aiShot, setAiShot] = useState(false);\r\n  const [playerFell, setPlayerFell] = useState(false);\r\n  const [aiFell, setAiFell] = useState(false);\r\n  const [showInstructions, setShowInstructions] = useState(true);\r\n  const [showResultDialog, setShowResultDialog] = useState(false);\r\n  const [showReadyIndicator, setShowReadyIndicator] = useState(false);\r\n  const [showStakeDialog, setShowStakeDialog] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showPostClaimDialog, setShowPostClaimDialog] = useState(false);\r\n\r\n  const [contractState, setContractState] = useState<ContractState>({\r\n    isConnected: false,\r\n    isStaked: false,\r\n    stakeAmount: BigInt(0),\r\n    gamePool: BigInt(0),\r\n    humanStake: BigInt(0),\r\n    botCount: BigInt(0),\r\n    gameStatus: BigInt(0),\r\n  });\r\n\r\n  const gameTimerRef = useRef<NodeJS.Timeout | undefined>(undefined);\r\n  const aiReactionRef = useRef<NodeJS.Timeout | undefined>(undefined);\r\n  const animationRef = useRef<number | undefined>(undefined);\r\n\r\n  // Contract constants\r\n  const STAKE_AMOUNT = BigInt(2_000_000); // 2 $\r\n  const BOT_COUNT = BigInt(1); // 1 AI bot (minimum required by contract)\r\n  const REWARD = Number(BOT_COUNT * STAKE_AMOUNT + STAKE_AMOUNT) / 1_000_000; // Reward is stake * number of bots\r\n\r\n  const endGameWithResult = (humanWon: boolean) => {\r\n    setIsLoading(true);\r\n    try {\r\n      if (humanWon) {\r\n        toast.success(`You won ${REWARD} GEM! ð`, {\r\n          description:\r\n            \"Congratulations! Your winnings have been sent to your wallet.\",\r\n        });\r\n      } else {\r\n        toast.info(\"Better luck next time!\", {\r\n          description: \"Your stake has been returned to the pool.\",\r\n        });\r\n      }\r\n    } catch {\r\n      toast.error(\"Failed to process game result. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetContractGame = () => {\r\n    setIsLoading(true);\r\n    try {\r\n      toast.success(\"Game reset! Ready for next round.\");\r\n    } catch {\r\n      toast.error(\"Failed to reset game. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  // Drawing functions\r\n  const drawCactus = (\r\n    ctx: CanvasRenderingContext2D,\r\n    x: number,\r\n    y: number,\r\n    width: number,\r\n    height: number\r\n  ) => {\r\n    ctx.fillStyle = \"#16a34a\";\r\n    ctx.fillRect(x, y, width, height);\r\n    // Arms\r\n    ctx.fillRect(x - 15, y + 20, 15, 30);\r\n    ctx.fillRect(x + width, y + 30, 15, 25);\r\n  };\r\n\r\n  const drawCowboy = (\r\n    ctx: CanvasRenderingContext2D,\r\n    x: number,\r\n    y: number,\r\n    facing: \"left\" | \"right\",\r\n    shot: boolean,\r\n    fell: boolean\r\n  ) => {\r\n    ctx.save();\r\n    ctx.translate(x, y);\r\n    if (facing === \"right\") {\r\n      ctx.scale(-1, 1);\r\n    }\r\n\r\n    // Hat\r\n    ctx.fillStyle = \"#92400e\";\r\n    ctx.fillRect(-15, -40, 30, 8);\r\n    ctx.fillRect(-20, -48, 40, 8);\r\n\r\n    // Head\r\n    ctx.fillStyle = \"#fbbf24\";\r\n    ctx.fillRect(-10, -32, 20, 20);\r\n\r\n    // Body\r\n    ctx.fillStyle = \"#1f2937\";\r\n    if (fell) {\r\n      // Lying down\r\n      ctx.fillRect(-30, -5, 40, 15);\r\n      ctx.fillStyle = \"#92400e\"; // Arms\r\n      ctx.fillRect(-35, -10, 15, 8);\r\n      ctx.fillRect(20, -10, 15, 8);\r\n    } else {\r\n      // Standing\r\n      ctx.fillRect(-12, -12, 24, 30);\r\n\r\n      // Arms\r\n      ctx.fillStyle = \"#92400e\";\r\n      if (shot) {\r\n        // Gun drawn\r\n        ctx.fillRect(12, -8, 20, 6);\r\n        ctx.fillStyle = \"#374151\"; // Gun\r\n        ctx.fillRect(32, -6, 8, 3);\r\n      } else {\r\n        // Arms at sides\r\n        ctx.fillRect(-18, -8, 8, 20);\r\n        ctx.fillRect(10, -8, 8, 20);\r\n      }\r\n\r\n      // Legs\r\n      ctx.fillStyle = \"#1e40af\";\r\n      ctx.fillRect(-10, 18, 8, 20);\r\n      ctx.fillRect(2, 18, 8, 20);\r\n    }\r\n\r\n    ctx.restore();\r\n  };\r\n\r\n  const drawMuzzleFlash = (\r\n    ctx: CanvasRenderingContext2D,\r\n    x: number,\r\n    y: number\r\n  ) => {\r\n    ctx.fillStyle = \"#fbbf24\";\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, 8, 0, Math.PI * 2);\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = \"#f59e0b\";\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, 5, 0, Math.PI * 2);\r\n    ctx.fill();\r\n  };\r\n\r\n  const drawReadyIndicator = (\r\n    ctx: CanvasRenderingContext2D,\r\n    x: number,\r\n    y: number\r\n  ) => {\r\n    // Blinking \"READY\" text\r\n    const time = Date.now() * 0.005;\r\n    const alpha = (Math.sin(time) + 1) * 0.5;\r\n\r\n    ctx.save();\r\n    ctx.globalAlpha = alpha;\r\n    ctx.fillStyle = \"#fbbf24\";\r\n    ctx.font = \"bold 48px Arial\";\r\n    ctx.textAlign = \"center\";\r\n    ctx.fillText(\"READY\", x, y);\r\n    ctx.restore();\r\n  };\r\n\r\n  const drawFireText = (\r\n    ctx: CanvasRenderingContext2D,\r\n    x: number,\r\n    y: number\r\n  ) => {\r\n    // Large \"FIRE!\" text\r\n    ctx.save();\r\n    ctx.fillStyle = \"#ef4444\";\r\n    ctx.font = \"bold 72px Arial\";\r\n    ctx.textAlign = \"center\";\r\n    ctx.fillText(\"FIRE!\", x, y);\r\n    ctx.restore();\r\n  };\r\n\r\n  // Draw the game scene\r\n  const drawScene = useCallback(() => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) {\r\n      return;\r\n    }\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    if (!ctx) {\r\n      return;\r\n    }\r\n\r\n    // Clear canvas\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    // Desert background gradient\r\n    const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);\r\n    gradient.addColorStop(0, \"#fbbf24\"); // Golden sky\r\n    gradient.addColorStop(0.6, \"#f59e0b\"); // Orange horizon\r\n    gradient.addColorStop(1, \"#d97706\"); // Desert ground\r\n    ctx.fillStyle = gradient;\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n    // Sun\r\n    ctx.fillStyle = \"#fef3c7\";\r\n    ctx.beginPath();\r\n    ctx.arc(canvas.width - 100, 80, 40, 0, Math.PI * 2);\r\n    ctx.fill();\r\n\r\n    // Ground\r\n    ctx.fillStyle = \"#92400e\";\r\n    ctx.fillRect(0, canvas.height - 100, canvas.width, 100);\r\n\r\n    // Cacti\r\n    drawCactus(ctx, 100, canvas.height - 150, 30, 80);\r\n    drawCactus(ctx, canvas.width - 150, canvas.height - 130, 25, 70);\r\n\r\n    // Player cowboy (left side)\r\n    const playerY = playerFell ? canvas.height - 50 : canvas.height - 120;\r\n    drawCowboy(ctx, 150, playerY, \"left\", playerShot, playerFell);\r\n\r\n    // AI cowboy (right side)\r\n    const aiY = aiFell ? canvas.height - 50 : canvas.height - 120;\r\n    drawCowboy(ctx, canvas.width - 150, aiY, \"right\", aiShot, aiFell);\r\n\r\n    // Muzzle flashes\r\n    if (playerShot && !playerFell) {\r\n      drawMuzzleFlash(ctx, 180, canvas.height - 100);\r\n    }\r\n    if (aiShot && !aiFell) {\r\n      drawMuzzleFlash(ctx, canvas.width - 180, canvas.height - 100);\r\n    }\r\n\r\n    // Ready indicator (blinking \"READY\")\r\n    if (showReadyIndicator && gameState === \"ready\") {\r\n      drawReadyIndicator(ctx, canvas.width / 2, canvas.height / 2 - 50);\r\n    }\r\n\r\n    // Fire text (large \"FIRE!\")\r\n    if (gameState === \"fire\") {\r\n      drawFireText(ctx, canvas.width / 2, canvas.height / 2 - 50);\r\n    }\r\n  }, [playerShot, aiShot, playerFell, aiFell, showReadyIndicator, gameState]);\r\n\r\n  // Game logic\r\n  const endGame = useCallback((gameWinner: Winner, customMessage?: string) => {\r\n    setGameState(\"result\");\r\n    setWinner(gameWinner);\r\n\r\n    if (customMessage) {\r\n      setMessage(customMessage);\r\n    } else if (gameWinner === \"player\") {\r\n      setMessage(\"You won the duel!\");\r\n      setAiFell(true);\r\n      setStats((prev) => ({ ...prev, playerWins: prev.playerWins + 1 }));\r\n    } else if (gameWinner === \"ai\") {\r\n      setMessage(\"The AI outgunned you!\");\r\n      setPlayerFell(true);\r\n      setStats((prev) => ({ ...prev, aiWins: prev.aiWins + 1 }));\r\n    }\r\n\r\n    // Show result dialog after a short delay\r\n    setTimeout(() => {\r\n      setShowResultDialog(true);\r\n    }, 1000);\r\n\r\n    // Clear timers\r\n    if (gameTimerRef.current) {\r\n      clearTimeout(gameTimerRef.current);\r\n    }\r\n    if (aiReactionRef.current) {\r\n      clearTimeout(aiReactionRef.current);\r\n    }\r\n  }, []);\r\n\r\n  const playerShoot = useCallback(() => {\r\n    if (gameState === \"fire\" && !playerShot) {\r\n      setPlayerShot(true);\r\n      if (!aiShot) {\r\n        endGame(\"player\");\r\n      }\r\n    } else if (gameState === \"ready\" || gameState === \"countdown\") {\r\n      // Shot too early - player loses\r\n      setPlayerShot(true);\r\n      endGame(\"ai\", \"You shot too early!\");\r\n    }\r\n  }, [gameState, playerShot, aiShot, endGame]);\r\n\r\n  const resetGame = useCallback(() => {\r\n    setGameState(\"staking\"); // Set to staking so user can stake again\r\n    setMessage(\"Stake 2 GEM to play against 2 AI bots!\");\r\n    setWinner(\"none\");\r\n    setPlayerShot(false);\r\n    setAiShot(false);\r\n    setPlayerFell(false);\r\n    setAiFell(false);\r\n    setShowReadyIndicator(false);\r\n    setShowResultDialog(false);\r\n    setShowInstructions(false); // Don't show instructions again\r\n\r\n    if (gameTimerRef.current) {\r\n      clearTimeout(gameTimerRef.current);\r\n    }\r\n    if (aiReactionRef.current) {\r\n      clearTimeout(aiReactionRef.current);\r\n    }\r\n  }, []);\r\n\r\n  const claimReward = () => {\r\n    if (winner === \"player\") {\r\n      endGameWithResult(true);\r\n    } else {\r\n      // If AI won, just end the game (money stays in pool)\r\n      endGameWithResult(false);\r\n    }\r\n\r\n    // Reset the contract game state so user can play again\r\n    resetContractGame();\r\n\r\n    // Reset the UI to allow staking again\r\n    resetGame();\r\n    setShowResultDialog(false);\r\n\r\n    // Show post-claim dialog with options to stake again or go home\r\n    setShowPostClaimDialog(true);\r\n  };\r\n\r\n  // Keyboard controls\r\n  useEffect(() => {\r\n    const handleKeyPress = (e: KeyboardEvent) => {\r\n      if (e.code === \"KeyA\") {\r\n        e.preventDefault();\r\n        playerShoot();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyPress);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyPress);\r\n  }, [playerShoot]);\r\n\r\n  // Animation loop\r\n  useEffect(() => {\r\n    const animate = () => {\r\n      drawScene();\r\n      animationRef.current = requestAnimationFrame(animate);\r\n    };\r\n    animate();\r\n\r\n    return () => {\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n    };\r\n  }, [drawScene]);\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (gameTimerRef.current) {\r\n        clearTimeout(gameTimerRef.current);\r\n      }\r\n      if (aiReactionRef.current) {\r\n        clearTimeout(aiReactionRef.current);\r\n      }\r\n      if (animationRef.current) {\r\n        cancelAnimationFrame(animationRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const stakeForGame = () => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Simulate successful staking\r\n      setTimeout(() => {\r\n        setContractState((prev) => ({\r\n          ...prev,\r\n          isConnected: true,\r\n          isStaked: true,\r\n          stakeAmount: STAKE_AMOUNT,\r\n          botCount: BOT_COUNT,\r\n          gameStatus: BigInt(1), // Game ready\r\n        }));\r\n        setGameState(\"ready\");\r\n        setMessage(\"Get ready...\");\r\n\r\n        // Show \"READY\" indicator for 2 seconds\r\n        setShowReadyIndicator(true);\r\n        gameTimerRef.current = setTimeout(() => {\r\n          setShowReadyIndicator(false);\r\n          setGameState(\"countdown\");\r\n          setMessage(\"Wait for it...\");\r\n\r\n          // After random delay, switch to \"FIRE!\" state\r\n\r\n          const delay = Math.random() * 2000 + 1000; // 1-3 seconds\r\n          gameTimerRef.current = setTimeout(() => {\r\n            setGameState(\"fire\");\r\n            setMessage(\"FIRE!\");\r\n\r\n            // AI reaction time\r\n            const aiReactionTime = Math.random() * 800 + 200; // 200-1000 ms\r\n            aiReactionRef.current = setTimeout(() => {\r\n              if (!playerShot) {\r\n                setAiShot(true);\r\n                endGame(\"ai\");\r\n              }\r\n            }, aiReactionTime);\r\n          }, delay);\r\n        }, 2000);\r\n        setShowStakeDialog(false);\r\n        setIsLoading(false);\r\n      }, 1000);\r\n    } catch {\r\n      toast.error(\"Staking failed. Please try again.\");\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Instruction Dialog */}\r\n      <Dialog open={showInstructions}>\r\n        <DialogContent\r\n          className=\"max-w-md\"\r\n          onEscapeKeyDown={(e) => e.preventDefault()}\r\n          onInteractOutside={(e) => e.preventDefault()}\r\n          onPointerDownOutside={(e) => e.preventDefault()}\r\n        >\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-center font-mono text-2xl\">\r\n              ð¤  QUICK DRAW SHOWDOWN ð¤ \r\n            </DialogTitle>\r\n            <DialogDescription className=\"space-y-4 text-center\">\r\n              <span className=\"block font-semibold text-lg\">How to Play:</span>\r\n              <span className=\"block\">\r\n                â¢ Stake 2 GEM to play against 1 AI bot\r\n              </span>\r\n              <span className=\"block\">â¢ Click START to begin the duel</span>\r\n              <span className=\"block\">\r\n                â¢ Wait for the &quot;FIRE!&quot; command\r\n              </span>\r\n              <span className=\"block rounded-lg bg-yellow-100 p-4 font-bold text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200\">\r\n                ð° Stake: 2 GEM | Prize: 4 GEM | Bots: 1\r\n              </span>\r\n              <Button\r\n                className=\"w-full font-mono\"\r\n                onClick={() => {\r\n                  setShowInstructions(false);\r\n                  setShowStakeDialog(true);\r\n                }}\r\n                size=\"lg\"\r\n              >\r\n                {\"START DUEL\"}\r\n              </Button>\r\n              <Link className=\"w-full\" href=\"/games\">\r\n                <Button\r\n                  className=\"w-full font-mono\"\r\n                  size=\"lg\"\r\n                  variant=\"outline\"\r\n                >\r\n                  ð  GO TO GAMES\r\n                </Button>\r\n              </Link>\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Staking Dialog */}\r\n      <Dialog open={showStakeDialog}>\r\n        <DialogContent\r\n          className=\"max-w-md\"\r\n          onEscapeKeyDown={(e) => e.preventDefault()}\r\n          onInteractOutside={(e) => e.preventDefault()}\r\n          onPointerDownOutside={(e) => e.preventDefault()}\r\n        >\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-center font-mono text-2xl\">\r\n              ð° STAKE TO PLAY ð°\r\n            </DialogTitle>\r\n            <DialogDescription asChild>\r\n              <div className=\"space-y-4 text-center\">\r\n                <div className=\"rounded-lg bg-blue-100 p-4 dark:bg-blue-900\">\r\n                  <p className=\"font-bold text-blue-800 dark:text-blue-200\">\r\n                    Game Details:\r\n                  </p>\r\n                  <p className=\"text-blue-600 text-sm dark:text-blue-300\">\r\n                    â¢ Your Stake: 2 GEM\r\n                  </p>\r\n                  <p className=\"text-blue-600 text-sm dark:text-blue-300\">\r\n                    â¢ AI Bot Stake: 2 GEM (1 bot Ã 2 GEM each)\r\n                  </p>\r\n                  <p className=\"text-blue-600 text-sm dark:text-blue-300\">\r\n                    â¢ Total Prize: 4 GEM\r\n                  </p>\r\n                  <p className=\"text-blue-600 text-sm dark:text-blue-300\">\r\n                    â¢ Winner Takes All!\r\n                  </p>\r\n                </div>\r\n\r\n                {contractState.gamePool > BigInt(0) && (\r\n                  <div className=\"rounded-lg bg-green-100 p-4 dark:bg-green-900\">\r\n                    <p className=\"font-bold text-green-800 dark:text-green-200\">\r\n                      Pool Balance: 10 $\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Button\r\n                    className=\"w-full bg-green-600 font-mono hover:bg-green-700\"\r\n                    disabled={isLoading}\r\n                    onClick={stakeForGame}\r\n                    size=\"lg\"\r\n                  >\r\n                    {isLoading ? \"STAKING...\" : \"STAKE 2 GEM & PLAY\"}\r\n                  </Button>\r\n                  <Link className=\"w-full\" href=\"/games\">\r\n                    <Button\r\n                      className=\"w-full font-mono\"\r\n                      size=\"lg\"\r\n                      variant=\"outline\"\r\n                    >\r\n                      ð  GO TO GAMES\r\n                    </Button>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Result Dialog */}\r\n      <Dialog open={showResultDialog}>\r\n        <DialogContent\r\n          className=\"max-w-md\"\r\n          onEscapeKeyDown={(e) => e.preventDefault()}\r\n          onInteractOutside={(e) => e.preventDefault()}\r\n          onPointerDownOutside={(e) => e.preventDefault()}\r\n        >\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-center font-mono text-2xl\">\r\n              {winner === \"player\" ? \"ð VICTORY! ð\" : \"ð DEFEAT ð\"}\r\n            </DialogTitle>\r\n            <DialogDescription asChild>\r\n              <div className=\"space-y-4 text-center\">\r\n                <p className=\"font-semibold text-lg\">{message}</p>\r\n\r\n                {winner === \"player\" && (\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"rounded-lg bg-green-100 p-4 dark:bg-green-900\">\r\n                      <p className=\"font-bold text-green-800 dark:text-green-200\">\r\n                        You won the duel! ð\r\n                      </p>\r\n                      <p className=\"text-green-600 text-sm dark:text-green-300\">\r\n                        Claim your reward of 4 GEMs (2 GEM stake + 2 GEM from 1\r\n                        AI bot)\r\n                      </p>\r\n                    </div>\r\n                    <Button\r\n                      className=\"w-full bg-green-600 font-mono hover:bg-green-700\"\r\n                      disabled={isLoading}\r\n                      onClick={claimReward}\r\n                      size=\"lg\"\r\n                    >\r\n                      {isLoading ? \"CLAIMING...\" : \"CLAIM 4 GEM ð\"}\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n\r\n                {winner === \"ai\" && (\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"rounded-lg bg-red-100 p-4 dark:bg-red-900\">\r\n                      <p className=\"font-bold text-red-800 dark:text-red-200\">\r\n                        The AI outgunned you! ð\r\n                      </p>\r\n                      <p className=\"text-red-600 text-sm dark:text-red-300\">\r\n                        Better luck next time, partner!\r\n                      </p>\r\n                    </div>\r\n                    <Button\r\n                      className=\"w-full bg-red-600 font-mono hover:bg-red-700\"\r\n                      disabled={isLoading}\r\n                      onClick={claimReward}\r\n                      size=\"lg\"\r\n                    >\r\n                      {isLoading ? \"PROCESSING...\" : \"END GAME & PLAY AGAIN\"}\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"flex justify-center space-x-4 text-sm\">\r\n                  <span className=\"text-primary\">\r\n                    Your Wins: {stats.playerWins}\r\n                  </span>\r\n                  <span className=\"text-muted-foreground\">VS</span>\r\n                  <span className=\"text-destructive\">\r\n                    AI Wins: {stats.aiWins}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Post-Claim Dialog */}\r\n      <Dialog open={showPostClaimDialog}>\r\n        <DialogContent\r\n          className=\"max-w-md\"\r\n          onEscapeKeyDown={(e) => e.preventDefault()}\r\n          onInteractOutside={(e) => e.preventDefault()}\r\n          onPointerDownOutside={(e) => e.preventDefault()}\r\n        >\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-center font-mono\">\r\n              ð GAME COMPLETE! ð\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-center\">\r\n              What would you like to do next?\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4\">\r\n            <Button\r\n              className=\"w-full font-mono\"\r\n              onClick={() => {\r\n                setShowPostClaimDialog(false);\r\n                setShowStakeDialog(true);\r\n              }}\r\n              size=\"lg\"\r\n            >\r\n              ð® STAKE AGAIN & PLAY\r\n            </Button>\r\n            <Link className=\"w-full\" href=\"/games\">\r\n              <Button className=\"w-full font-mono\" size=\"lg\" variant=\"outline\">\r\n                ð  GO TO HOME\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Fullscreen Game */}\r\n      <div className=\"fixed inset-0 z-40 flex h-full flex-col bg-background\">\r\n        {/* Title Bar */}\r\n        <div className=\"flex items-center justify-between border-b bg-background p-4\">\r\n          <h1 className=\"font-bold font-mono text-2xl text-foreground\">\r\n            ð¤  QUICK DRAW SHOWDOWN ð¤ \r\n          </h1>\r\n          <div className=\"flex items-center space-x-4 text-sm\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <span className=\"text-primary\">You: {stats.playerWins}</span>\r\n              <span className=\"text-muted-foreground\">VS</span>\r\n              <span className=\"text-destructive\">AI: {stats.aiWins}</span>\r\n            </div>\r\n            <div className=\"h-4 w-px bg-border\" />\r\n            <div className=\"flex items-center space-x-2\">\r\n              <div\r\n                className={`h-2 w-2 rounded-full ${\r\n                  activeAddress ? \"bg-green-500\" : \"bg-red-500\"\r\n                }`}\r\n              />\r\n              <span className=\"text-muted-foreground text-xs\">\r\n                {activeAddress ? \"Connected\" : \"Disconnected\"}\r\n              </span>\r\n            </div>\r\n            {contractState.gamePool > BigInt(0) && (\r\n              <>\r\n                <div className=\"h-4 w-px bg-border\" />\r\n                <span className=\"text-muted-foreground text-xs\">\r\n                  Pool: 80 $\r\n                </span>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Game Canvas - Fullscreen */}\r\n        <div className=\"flex flex-1 items-center justify-center p-4\">\r\n          <canvas\r\n            className=\"max-h-full max-w-full rounded-lg border border-border bg-linear-to-b from-amber-200 to-orange-300\"\r\n            height={600}\r\n            ref={canvasRef}\r\n            width={1000}\r\n          />\r\n        </div>\r\n\r\n        {/* Game Message - Fullscreen */}\r\n        <div className=\"border-t bg-background p-6 text-center\">\r\n          <h2 className=\"mb-4 font-bold font-mono text-2xl text-foreground\">\r\n            {message}\r\n          </h2>\r\n\r\n          {(gameState === \"ready\" || gameState === \"fire\") && (\r\n            <p className=\"text-muted-foreground text-sm\">\r\n              Press A to shoot when you see &quot;FIRE!&quot;\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components\\games\\showdown\\index.tsx"
    },
    {
      "path": "components\\navbar.tsx",
      "content": "\"use client\";\r\n\r\nimport { AnimatedThemeToggler } from \"./theme-toggle\";\r\n\r\nexport function Navbar() {\r\n  return (\r\n    <nav className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60\">\r\n      <div className=\"container flex h-14 sm:h-16 items-center justify-between px-3 sm:px-4 lg:px-6\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <h1 className=\"text-base sm:text-lg font-bold\">Algo Games</h1>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2 sm:gap-3 lg:gap-4\">\r\n          <AnimatedThemeToggler />\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components\\navbar.tsx"
    },
    {
      "path": "components\\providers.tsx",
      "content": "\"use client\";\r\n\r\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\r\nimport { ThemeProvider } from \"@/components/theme-provider\";\r\nimport { NuqsAdapter } from \"nuqs/adapters/next/app\";\r\nconst queryClient = new QueryClient();\r\n\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <ThemeProvider attribute=\"class\" defaultTheme=\"dark\">\r\n      <QueryClientProvider client={queryClient}>\r\n        <NuqsAdapter>{children}</NuqsAdapter>\r\n      </QueryClientProvider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n",
      "type": "registry:component",
      "target": "components\\providers.tsx"
    },
    {
      "path": "components\\theme-provider.tsx",
      "content": "\"use client\";\r\n\r\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\";\r\nimport type * as React from \"react\";\r\n\r\nexport function ThemeProvider({\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof NextThemesProvider>) {\r\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;\r\n}\r\n",
      "type": "registry:component",
      "target": "components\\theme-provider.tsx"
    },
    {
      "path": "components\\theme-toggle.tsx",
      "content": "\"use client\";\r\n\r\nimport { Moon, Sun } from \"lucide-react\";\r\nimport { useTheme } from \"next-themes\";\r\nimport { useCallback, useRef } from \"react\";\r\nimport { flushSync } from \"react-dom\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ntype Props = {\r\n  className?: string;\r\n};\r\n\r\nexport const AnimatedThemeToggler = ({ className }: Props) => {\r\n  const { theme, setTheme } = useTheme();\r\n  const buttonRef = useRef<HTMLButtonElement>(null);\r\n\r\n  const toggleTheme = useCallback(async () => {\r\n    if (!buttonRef.current) {\r\n      return;\r\n    }\r\n\r\n    const newTheme = theme === \"dark\" ? \"light\" : \"dark\";\r\n\r\n    // Check if View Transitions API is supported\r\n    if (!document.startViewTransition) {\r\n      setTheme(newTheme);\r\n      return;\r\n    }\r\n\r\n    await document.startViewTransition(() => {\r\n      flushSync(() => {\r\n        setTheme(newTheme);\r\n      });\r\n    }).ready;\r\n\r\n    const { top, left, width, height } =\r\n      buttonRef.current.getBoundingClientRect();\r\n    const x = left + width / 2;\r\n    const y = top + height / 2;\r\n    const maxRadius = Math.hypot(\r\n      Math.max(left, window.innerWidth - left),\r\n      Math.max(top, window.innerHeight - top)\r\n    );\r\n\r\n    document.documentElement.animate(\r\n      {\r\n        clipPath: [\r\n          `circle(0px at ${x}px ${y}px)`,\r\n          `circle(${maxRadius}px at ${x}px ${y}px)`,\r\n        ],\r\n      },\r\n      {\r\n        duration: 700,\r\n        easing: \"ease-in-out\",\r\n        pseudoElement: \"::view-transition-new(root)\",\r\n      }\r\n    );\r\n  }, [theme, setTheme]);\r\n\r\n  return (\r\n    <Button\r\n      aria-label=\"Toggle theme\"\r\n      className={cn(\"h-9 w-9 p-0\", className)}\r\n      onClick={toggleTheme}\r\n      ref={buttonRef}\r\n      size=\"sm\"\r\n      variant=\"ghost\"\r\n    >\r\n      {theme === \"dark\" ? (\r\n        <Sun className=\"h-4 w-4 transition-all\" />\r\n      ) : (\r\n        <Moon className=\"h-4 w-4 transition-all\" />\r\n      )}\r\n    </Button>\r\n  );\r\n};\r\n",
      "type": "registry:component",
      "target": "components\\theme-toggle.tsx"
    },
    {
      "path": "components\\ui\\button-group.tsx",
      "content": "import { Slot as SlotPrimitive } from \"radix-ui\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nconst buttonGroupVariants = cva(\n  \"flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2\",\n  {\n    variants: {\n      orientation: {\n        horizontal:\n          \"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none\",\n        vertical:\n          \"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none\",\n      },\n    },\n    defaultVariants: {\n      orientation: \"horizontal\",\n    },\n  }\n)\n\nfunction ButtonGroup({\n  className,\n  orientation,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof buttonGroupVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"button-group\"\n      data-orientation={orientation}\n      className={cn(buttonGroupVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupText({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? SlotPrimitive.Slot : \"div\"\n\n  return (\n    <Comp\n      className={cn(\n        \"bg-muted flex items-center gap-2 rounded-md border px-4 text-sm font-medium shadow-xs [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupSeparator({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"button-group-separator\"\n      orientation={orientation}\n      className={cn(\n        \"bg-input relative !m-0 self-stretch data-[orientation=vertical]:h-auto\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  ButtonGroup,\n  ButtonGroupSeparator,\n  ButtonGroupText,\n  buttonGroupVariants,\n}\n",
      "type": "registry:component",
      "target": "components\\ui\\button-group.tsx"
    },
    {
      "path": "components\\ui\\empty.tsx",
      "content": "import { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Empty({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty\"\n      className={cn(\n        \"flex min-w-0 flex-1 flex-col items-center justify-center gap-6 rounded-lg border-dashed p-6 text-center text-balance md:p-12\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-header\"\n      className={cn(\n        \"flex max-w-sm flex-col items-center gap-2 text-center\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst emptyMediaVariants = cva(\n  \"flex shrink-0 items-center justify-center mb-2 [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction EmptyMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof emptyMediaVariants>) {\n  return (\n    <div\n      data-slot=\"empty-icon\"\n      data-variant={variant}\n      className={cn(emptyMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-title\"\n      className={cn(\"text-lg font-medium tracking-tight\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <div\n      data-slot=\"empty-description\"\n      className={cn(\n        \"text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-content\"\n      className={cn(\n        \"flex w-full max-w-sm min-w-0 flex-col items-center gap-4 text-sm text-balance\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Empty,\n  EmptyHeader,\n  EmptyTitle,\n  EmptyDescription,\n  EmptyContent,\n  EmptyMedia,\n}\n",
      "type": "registry:component",
      "target": "components\\ui\\empty.tsx"
    },
    {
      "path": "components\\ui\\field.tsx",
      "content": "\"use client\"\n\nimport { useMemo } from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction FieldSet({ className, ...props }: React.ComponentProps<\"fieldset\">) {\n  return (\n    <fieldset\n      data-slot=\"field-set\"\n      className={cn(\n        \"flex flex-col gap-6\",\n        \"has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLegend({\n  className,\n  variant = \"legend\",\n  ...props\n}: React.ComponentProps<\"legend\"> & { variant?: \"legend\" | \"label\" }) {\n  return (\n    <legend\n      data-slot=\"field-legend\"\n      data-variant={variant}\n      className={cn(\n        \"mb-3 font-medium\",\n        \"data-[variant=legend]:text-base\",\n        \"data-[variant=label]:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-group\"\n      className={cn(\n        \"group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst fieldVariants = cva(\n  \"group/field flex w-full gap-3 data-[invalid=true]:text-destructive\",\n  {\n    variants: {\n      orientation: {\n        vertical: [\"flex-col [&>*]:w-full [&>.sr-only]:w-auto\"],\n        horizontal: [\n          \"flex-row items-center\",\n          \"[&>[data-slot=field-label]]:flex-auto\",\n          \"has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px\",\n        ],\n        responsive: [\n          \"flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto\",\n          \"@md/field-group:[&>[data-slot=field-label]]:flex-auto\",\n          \"@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px\",\n        ],\n      },\n    },\n    defaultVariants: {\n      orientation: \"vertical\",\n    },\n  }\n)\n\nfunction Field({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof fieldVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"field\"\n      data-orientation={orientation}\n      className={cn(fieldVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction FieldContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-content\"\n      className={cn(\n        \"group/field-content flex flex-1 flex-col gap-1.5 leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof Label>) {\n  return (\n    <Label\n      data-slot=\"field-label\"\n      className={cn(\n        \"group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50\",\n        \"has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-4\",\n        \"has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-label\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm leading-snug font-medium group-data-[disabled=true]/field:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"field-description\"\n      className={cn(\n        \"text-muted-foreground text-sm leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance\",\n        \"last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  children?: React.ReactNode\n}) {\n  return (\n    <div\n      data-slot=\"field-separator\"\n      data-content={!!children}\n      className={cn(\n        \"relative -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2\",\n        className\n      )}\n      {...props}\n    >\n      <Separator className=\"absolute inset-0 top-1/2\" />\n      {children && (\n        <span\n          className=\"bg-background text-muted-foreground relative mx-auto block w-fit px-2\"\n          data-slot=\"field-separator-content\"\n        >\n          {children}\n        </span>\n      )}\n    </div>\n  )\n}\n\nfunction FieldError({\n  className,\n  children,\n  errors,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  errors?: Array<{ message?: string } | undefined>\n}) {\n  const content = useMemo(() => {\n    if (children) {\n      return children\n    }\n\n    if (!errors?.length) {\n      return null\n    }\n\n    const uniqueErrors = [\n      ...new Map(errors.map((error) => [error?.message, error])).values(),\n    ]\n\n    if (uniqueErrors?.length == 1) {\n      return uniqueErrors[0]?.message\n    }\n\n    return (\n      <ul className=\"ml-4 flex list-disc flex-col gap-1\">\n        {uniqueErrors.map(\n          (error, index) =>\n            error?.message && <li key={index}>{error.message}</li>\n        )}\n      </ul>\n    )\n  }, [children, errors])\n\n  if (!content) {\n    return null\n  }\n\n  return (\n    <div\n      role=\"alert\"\n      data-slot=\"field-error\"\n      className={cn(\"text-destructive text-sm font-normal\", className)}\n      {...props}\n    >\n      {content}\n    </div>\n  )\n}\n\nexport {\n  Field,\n  FieldLabel,\n  FieldDescription,\n  FieldError,\n  FieldGroup,\n  FieldLegend,\n  FieldSeparator,\n  FieldSet,\n  FieldContent,\n  FieldTitle,\n}\n",
      "type": "registry:component",
      "target": "components\\ui\\field.tsx"
    },
    {
      "path": "components\\ui\\input-group.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\n\nfunction InputGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"input-group\"\n      role=\"group\"\n      className={cn(\n        \"group/input-group border-input dark:bg-input/30 relative flex w-full items-center rounded-md border shadow-xs transition-[color,box-shadow] outline-none\",\n        \"h-9 min-w-0 has-[>textarea]:h-auto\",\n\n        // Variants based on alignment.\n        \"has-[>[data-align=inline-start]]:[&>input]:pl-2\",\n        \"has-[>[data-align=inline-end]]:[&>input]:pr-2\",\n        \"has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3\",\n        \"has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3\",\n\n        // Focus state.\n        \"has-[[data-slot=input-group-control]:focus-visible]:border-ring has-[[data-slot=input-group-control]:focus-visible]:ring-ring/50 has-[[data-slot=input-group-control]:focus-visible]:ring-[3px]\",\n\n        // Error state.\n        \"has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40\",\n\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupAddonVariants = cva(\n  \"text-muted-foreground flex h-auto cursor-text items-center justify-center gap-2 py-1.5 text-sm font-medium select-none [&>svg:not([class*='size-'])]:size-4 [&>kbd]:rounded-[calc(var(--radius)-5px)] group-data-[disabled=true]/input-group:opacity-50\",\n  {\n    variants: {\n      align: {\n        \"inline-start\":\n          \"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]\",\n        \"inline-end\":\n          \"order-last pr-3 has-[>button]:mr-[-0.45rem] has-[>kbd]:mr-[-0.35rem]\",\n        \"block-start\":\n          \"order-first w-full justify-start px-3 pt-3 [.border-b]:pb-3 group-has-[>input]/input-group:pt-2.5\",\n        \"block-end\":\n          \"order-last w-full justify-start px-3 pb-3 [.border-t]:pt-3 group-has-[>input]/input-group:pb-2.5\",\n      },\n    },\n    defaultVariants: {\n      align: \"inline-start\",\n    },\n  }\n)\n\nfunction InputGroupAddon({\n  className,\n  align = \"inline-start\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupAddonVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"input-group-addon\"\n      data-align={align}\n      className={cn(inputGroupAddonVariants({ align }), className)}\n      onClick={(e) => {\n        if ((e.target as HTMLElement).closest(\"button\")) {\n          return\n        }\n        e.currentTarget.parentElement?.querySelector(\"input\")?.focus()\n      }}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupButtonVariants = cva(\n  \"text-sm shadow-none flex gap-2 items-center\",\n  {\n    variants: {\n      size: {\n        xs: \"h-6 gap-1 px-2 rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-3.5 has-[>svg]:px-2\",\n        sm: \"h-8 px-2.5 gap-1.5 rounded-md has-[>svg]:px-2.5\",\n        \"icon-xs\":\n          \"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0\",\n        \"icon-sm\": \"size-8 p-0 has-[>svg]:p-0\",\n      },\n    },\n    defaultVariants: {\n      size: \"xs\",\n    },\n  }\n)\n\nfunction InputGroupButton({\n  className,\n  type = \"button\",\n  variant = \"ghost\",\n  size = \"xs\",\n  ...props\n}: Omit<React.ComponentProps<typeof Button>, \"size\"> &\n  VariantProps<typeof inputGroupButtonVariants>) {\n  return (\n    <Button\n      type={type}\n      data-size={size}\n      variant={variant}\n      className={cn(inputGroupButtonVariants({ size }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupText({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      className={cn(\n        \"text-muted-foreground flex items-center gap-2 text-sm [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupInput({\n  className,\n  ...props\n}: React.ComponentProps<\"input\">) {\n  return (\n    <Input\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupTextarea({\n  className,\n  ...props\n}: React.ComponentProps<\"textarea\">) {\n  return (\n    <Textarea\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 resize-none rounded-none border-0 bg-transparent py-3 shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButton,\n  InputGroupText,\n  InputGroupInput,\n  InputGroupTextarea,\n}\n",
      "type": "registry:component",
      "target": "components\\ui\\input-group.tsx"
    },
    {
      "path": "components\\ui\\item.tsx",
      "content": "import * as React from \"react\"\nimport { Slot as SlotPrimitive } from \"radix-ui\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction ItemGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      role=\"list\"\n      data-slot=\"item-group\"\n      className={cn(\"group/item-group flex flex-col\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"item-separator\"\n      orientation=\"horizontal\"\n      className={cn(\"my-0\", className)}\n      {...props}\n    />\n  )\n}\n\nconst itemVariants = cva(\n  \"group/item flex items-center border border-transparent text-sm rounded-md transition-colors [a]:hover:bg-accent/50 [a]:transition-colors duration-100 flex-wrap outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border-border\",\n        muted: \"bg-muted/50\",\n      },\n      size: {\n        default: \"p-4 gap-4 \",\n        sm: \"py-3 px-4 gap-2.5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Item({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> &\n  VariantProps<typeof itemVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? SlotPrimitive.Slot : \"div\"\n  return (\n    <Comp\n      data-slot=\"item\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(itemVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nconst itemMediaVariants = cva(\n  \"flex shrink-0 items-center justify-center gap-2 group-has-[[data-slot=item-description]]/item:self-start [&_svg]:pointer-events-none group-has-[[data-slot=item-description]]/item:translate-y-0.5\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"size-8 border rounded-sm bg-muted [&_svg:not([class*='size-'])]:size-4\",\n        image:\n          \"size-10 rounded-sm overflow-hidden [&_img]:size-full [&_img]:object-cover\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction ItemMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof itemMediaVariants>) {\n  return (\n    <div\n      data-slot=\"item-media\"\n      data-variant={variant}\n      className={cn(itemMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction ItemContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-content\"\n      className={cn(\n        \"flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-title\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm leading-snug font-medium\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"item-description\"\n      className={cn(\n        \"text-muted-foreground line-clamp-2 text-sm leading-normal font-normal text-balance\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemActions({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-actions\"\n      className={cn(\"flex items-center gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-header\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-footer\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Item,\n  ItemMedia,\n  ItemContent,\n  ItemActions,\n  ItemGroup,\n  ItemSeparator,\n  ItemTitle,\n  ItemDescription,\n  ItemHeader,\n  ItemFooter,\n}\n",
      "type": "registry:component",
      "target": "components\\ui\\item.tsx"
    },
    {
      "path": "components\\ui\\kbd.tsx",
      "content": "import { cn } from \"@/lib/utils\"\n\nfunction Kbd({ className, ...props }: React.ComponentProps<\"kbd\">) {\n  return (\n    <kbd\n      data-slot=\"kbd\"\n      className={cn(\n        \"bg-muted text-muted-foreground pointer-events-none inline-flex h-5 w-fit min-w-5 items-center justify-center gap-1 rounded-sm px-1 font-sans text-xs font-medium select-none\",\n        \"[&_svg:not([class*='size-'])]:size-3\",\n        \"[[data-slot=tooltip-content]_&]:bg-background/20 [[data-slot=tooltip-content]_&]:text-background dark:[[data-slot=tooltip-content]_&]:bg-background/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction KbdGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <kbd\n      data-slot=\"kbd-group\"\n      className={cn(\"inline-flex items-center gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Kbd, KbdGroup }\n",
      "type": "registry:component",
      "target": "components\\ui\\kbd.tsx"
    },
    {
      "path": "components\\ui\\spinner.tsx",
      "content": "import { Loader2Icon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Spinner({ className, ...props }: React.ComponentProps<\"svg\">) {\n  return (\n    <Loader2Icon\n      role=\"status\"\n      aria-label=\"Loading\"\n      className={cn(\"size-4 animate-spin\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Spinner }\n",
      "type": "registry:component",
      "target": "components\\ui\\spinner.tsx"
    },
    {
      "path": "env.ts",
      "content": "import { createEnv } from \"@t3-oss/env-nextjs\";\r\nimport { z } from \"zod\";\r\n\r\nexport const env = createEnv({\r\n  server: {\r\n    MONGODB_URI: z.string().min(1).max(2000),\r\n    NODE_ENV: z.enum([\"development\", \"production\"]).default(\"production\"),\r\n    BETTER_AUTH_SECRET: z.string().min(32),\r\n    BETTER_AUTH_URL: z.string().url().default(\"http://localhost:3000\"),\r\n    MONGODB_DB_NAME: z.string().min(1).max(100).default(\"game-aggregator\"),\r\n    GOOGLE_CLIENT_ID: z.string().min(1),\r\n    GOOGLE_CLIENT_SECRET: z.string().min(1),\r\n    // SMTP Configuration for Nodemailer\r\n    SMTP_HOST: z.string().min(1),\r\n    SMTP_PORT: z.coerce.number().int().positive().default(587),\r\n    SMTP_SECURE: z.coerce.boolean().default(false),\r\n    SMTP_USER: z.string().min(1),\r\n    SMTP_PASSWORD: z.string().min(1),\r\n    SMTP_FROM_EMAIL: z.string().email(),\r\n    SMTP_FROM_NAME: z.string().default(\"Game Aggregator\"),\r\n  },\r\n  client: {\r\n    // NEXT_PUBLIC_ variables are exposed to the client\r\n  },\r\n  // If you're using Next.js < 13.4.4, you'll need to specify the runtimeEnv manually\r\n  runtimeEnv: {\r\n    MONGODB_URI: process.env.MONGODB_URI,\r\n    NODE_ENV: process.env.NODE_ENV,\r\n    BETTER_AUTH_SECRET: process.env.BETTER_AUTH_SECRET,\r\n    BETTER_AUTH_URL: process.env.BETTER_AUTH_URL,\r\n    MONGODB_DB_NAME: process.env.MONGODB_DB_NAME,\r\n    GOOGLE_CLIENT_ID: process.env.GOOGLE_CLIENT_ID,\r\n    GOOGLE_CLIENT_SECRET: process.env.GOOGLE_CLIENT_SECRET,\r\n    SMTP_HOST: process.env.SMTP_HOST,\r\n    SMTP_PORT: process.env.SMTP_PORT,\r\n    SMTP_SECURE: process.env.SMTP_SECURE,\r\n    SMTP_USER: process.env.SMTP_USER,\r\n    SMTP_PASSWORD: process.env.SMTP_PASSWORD,\r\n    SMTP_FROM_EMAIL: process.env.SMTP_FROM_EMAIL,\r\n    SMTP_FROM_NAME: process.env.SMTP_FROM_NAME,\r\n  },\r\n  // For Next.js >= 13.4.4, you only need to destructure client variables:\r\n  // experimental__runtimeEnv: {\r\n  //   NEXT_PUBLIC_PUBLISHABLE_KEY: process.env.NEXT_PUBLIC_PUBLISHABLE_KEY,\r\n  // }\r\n});\r\n",
      "type": "registry:component",
      "target": "env.ts"
    },
    {
      "path": "hooks\\use-mobile.ts",
      "content": "import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n",
      "type": "registry:lib",
      "target": "hooks\\use-mobile.ts"
    },
    {
      "path": "lib\\auth-client.ts",
      "content": "import { createAuthClient } from \"better-auth/react\";\nimport { adminClient, emailOTPClient } from \"better-auth/client/plugins\";\n\nexport const authClient = createAuthClient({\n  baseURL: typeof window !== \"undefined\" ? window.location.origin : \"\",\n  plugins: [adminClient(), emailOTPClient()],\n});\n\nexport const { signIn, signOut, signUp, useSession } = authClient;\n",
      "type": "registry:lib",
      "target": "lib\\auth-client.ts"
    },
    {
      "path": "lib\\auth.ts",
      "content": "import { betterAuth } from \"better-auth\";\nimport { admin, emailOTP } from \"better-auth/plugins\";\nimport { nextCookies } from \"better-auth/next-js\";\nimport { mongodbAdapter } from \"better-auth/adapters/mongodb\";\nimport client from \"@/lib/mongodb\";\nimport { env } from \"@/env\";\nimport { sendEmail } from \"@/lib/email/mailer\";\nimport { emailTemplates } from \"@/lib/email/templates\";\n\nconst db = client.db(env.MONGODB_DB_NAME);\n\nexport const auth = betterAuth({\n  database: mongodbAdapter(db),\n  emailAndPassword: {\n    enabled: true,\n    requireEmailVerification: false, // Set to true in production\n  },\n  socialProviders: {\n    google: {\n      clientId: env.GOOGLE_CLIENT_ID,\n      clientSecret: env.GOOGLE_CLIENT_SECRET,\n      accessType: \"offline\", // Always get refresh token\n      prompt: \"select_account consent\", // Always ask to select account\n    },\n  },\n  secret: env.BETTER_AUTH_SECRET,\n  baseURL: env.BETTER_AUTH_URL,\n  plugins: [\n    admin({\n      defaultRole: \"user\",\n      adminRoles: [\"admin\", \"super-admin\"],\n      impersonationSessionDuration: 3600, // 1 hour\n      defaultBanReason: \"Violated terms of service\",\n      bannedUserMessage:\n        \"Your account has been suspended. Please contact support.\",\n    }),\n    emailOTP({\n      async sendVerificationOTP({ email, otp, type }) {\n        // In development, log to console for easy testing\n        if (env.NODE_ENV === \"development\") {\n          console.log(`[Email OTP] Sending ${type} OTP to ${email}: ${otp}`);\n        }\n\n        // Generate email content based on type\n        let subject: string;\n        let html: string;\n\n        switch (type) {\n          case \"sign-in\":\n            subject = \"ð Sign In to Game Aggregator\";\n            html = emailTemplates.signInOTP(otp, 5);\n            break;\n          case \"email-verification\":\n            subject = \"âï¸ Verify Your Email - Game Aggregator\";\n            html = emailTemplates.emailVerification(otp, 5);\n            break;\n          case \"forget-password\":\n            subject = \"ð Reset Your Password - Game Aggregator\";\n            html = emailTemplates.passwordReset(otp, 5);\n            break;\n          default:\n            subject = \"Verification Code - Game Aggregator\";\n            html = emailTemplates.signInOTP(otp, 5);\n        }\n\n        // Send email using nodemailer\n        try {\n          await sendEmail({\n            to: email,\n            subject,\n            html,\n          });\n          console.log(`â ${type} OTP sent to ${email}`);\n        } catch (error) {\n          console.error(`â Failed to send ${type} OTP to ${email}:`, error);\n          throw error;\n        }\n      },\n      otpLength: 6,\n      expiresIn: 300, // 5 minutes\n      sendVerificationOnSignUp: true,\n      allowedAttempts: 3,\n    }),\n    nextCookies(), // Must be last plugin\n  ],\n});\n\nexport type Session = typeof auth.$Infer.Session;\n",
      "type": "registry:lib",
      "target": "lib\\auth.ts"
    },
    {
      "path": "lib\\email\\mailer.ts",
      "content": "import nodemailer from \"nodemailer\";\nimport { env } from \"@/env\";\n\n// Create reusable transporter\nexport const transporter = nodemailer.createTransport({\n  host: env.SMTP_HOST,\n  port: env.SMTP_PORT,\n  secure: env.SMTP_SECURE, // true for 465, false for other ports\n  auth: {\n    user: env.SMTP_USER,\n    pass: env.SMTP_PASSWORD,\n  },\n});\n\n// Verify connection configuration\nexport async function verifyEmailConnection() {\n  try {\n    await transporter.verify();\n    console.log(\"â Email server connection verified\");\n    return true;\n  } catch (error) {\n    console.error(\"â Email server connection failed:\", error);\n    return false;\n  }\n}\n\n// Send email function\nexport async function sendEmail({\n  to,\n  subject,\n  html,\n  text,\n}: {\n  to: string;\n  subject: string;\n  html: string;\n  text?: string;\n}) {\n  try {\n    const info = await transporter.sendMail({\n      from: `\"${env.SMTP_FROM_NAME}\" <${env.SMTP_FROM_EMAIL}>`,\n      to,\n      subject,\n      html,\n      text: text || html.replace(/<[^>]*>/g, \"\"), // Strip HTML tags for text version\n    });\n\n    console.log(`â Email sent: ${info.messageId}`);\n    return { success: true, messageId: info.messageId };\n  } catch (error) {\n    console.error(\"â Email sending failed:\", error);\n    return { success: false, error };\n  }\n}\n",
      "type": "registry:lib",
      "target": "lib\\email\\mailer.ts"
    },
    {
      "path": "lib\\email\\templates.ts",
      "content": "import { env } from \"@/env\";\n\n// Base email template wrapper\nfunction emailWrapper(content: string, preheader?: string) {\n  return `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta name=\"color-scheme\" content=\"light dark\">\n  <meta name=\"supported-color-schemes\" content=\"light dark\">\n  ${preheader ? `<meta name=\"description\" content=\"${preheader}\">` : \"\"}\n  <title>Game Aggregator</title>\n  <style>\n    body {\n      margin: 0;\n      padding: 0;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n      background-color: #0a0a0a;\n      color: #ffffff;\n    }\n    .container {\n      max-width: 600px;\n      margin: 0 auto;\n      padding: 20px;\n    }\n    .header {\n      text-align: center;\n      padding: 40px 0 20px;\n    }\n    .logo {\n      font-size: 28px;\n      font-weight: bold;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n      background-clip: text;\n    }\n    .content {\n      background-color: #18181b;\n      border-radius: 12px;\n      padding: 40px;\n      margin: 20px 0;\n    }\n    .otp-code {\n      font-size: 42px;\n      font-weight: bold;\n      text-align: center;\n      letter-spacing: 8px;\n      padding: 30px;\n      margin: 30px 0;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      border-radius: 8px;\n      color: #ffffff;\n    }\n    .button {\n      display: inline-block;\n      padding: 14px 32px;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: #ffffff;\n      text-decoration: none;\n      border-radius: 8px;\n      font-weight: 600;\n      margin: 20px 0;\n    }\n    .footer {\n      text-align: center;\n      padding: 20px;\n      color: #71717a;\n      font-size: 14px;\n    }\n    .warning {\n      background-color: #27272a;\n      border-left: 4px solid #f59e0b;\n      padding: 16px;\n      margin: 20px 0;\n      border-radius: 4px;\n    }\n    h1 {\n      font-size: 24px;\n      margin: 0 0 16px;\n      color: #ffffff;\n    }\n    p {\n      font-size: 16px;\n      line-height: 1.6;\n      color: #a1a1aa;\n      margin: 12px 0;\n    }\n    .highlight {\n      color: #ffffff;\n      font-weight: 600;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"header\">\n      <div class=\"logo\">ð® Game Aggregator</div>\n    </div>\n    ${content}\n    <div class=\"footer\">\n      <p>This email was sent from Game Aggregator</p>\n      <p>If you didn't request this, please ignore this email.</p>\n      <p>&copy; ${new Date().getFullYear()} Game Aggregator. All rights reserved.</p>\n    </div>\n  </div>\n</body>\n</html>\n  `.trim();\n}\n\n// OTP Sign-In Email\nexport function signInOTPTemplate(otp: string, expiresInMinutes: number = 5) {\n  const content = `\n    <div class=\"content\">\n      <h1>ð Sign In to Your Account</h1>\n      <p>Hello!</p>\n      <p>You requested a one-time password to sign in to your Game Aggregator account.</p>\n      <p class=\"highlight\">Your verification code is:</p>\n      <div class=\"otp-code\">${otp}</div>\n      <div class=\"warning\">\n        <p><strong>â° This code expires in ${expiresInMinutes} minutes.</strong></p>\n        <p>For security reasons, do not share this code with anyone.</p>\n      </div>\n      <p>If you didn't request this code, you can safely ignore this email.</p>\n    </div>\n  `;\n\n  return emailWrapper(content, `Your sign-in code: ${otp}`);\n}\n\n// Email Verification Email\nexport function emailVerificationTemplate(otp: string, expiresInMinutes: number = 5) {\n  const content = `\n    <div class=\"content\">\n      <h1>âï¸ Verify Your Email Address</h1>\n      <p>Welcome to Game Aggregator!</p>\n      <p>To complete your registration and start playing, please verify your email address.</p>\n      <p class=\"highlight\">Your verification code is:</p>\n      <div class=\"otp-code\">${otp}</div>\n      <div class=\"warning\">\n        <p><strong>â° This code expires in ${expiresInMinutes} minutes.</strong></p>\n        <p>Enter this code in the verification page to activate your account.</p>\n      </div>\n      <p>If you didn't create an account, you can safely ignore this email.</p>\n    </div>\n  `;\n\n  return emailWrapper(content, `Verify your email: ${otp}`);\n}\n\n// Password Reset Email\nexport function passwordResetTemplate(otp: string, expiresInMinutes: number = 5) {\n  const content = `\n    <div class=\"content\">\n      <h1>ð Reset Your Password</h1>\n      <p>Hello!</p>\n      <p>You requested to reset your password for your Game Aggregator account.</p>\n      <p class=\"highlight\">Your password reset code is:</p>\n      <div class=\"otp-code\">${otp}</div>\n      <div class=\"warning\">\n        <p><strong>â° This code expires in ${expiresInMinutes} minutes.</strong></p>\n        <p>If you didn't request a password reset, please ignore this email or contact support if you have concerns.</p>\n      </div>\n      <p>After entering this code, you'll be able to set a new password for your account.</p>\n    </div>\n  `;\n\n  return emailWrapper(content, `Reset your password: ${otp}`);\n}\n\n// Welcome Email (after successful signup)\nexport function welcomeEmailTemplate(name: string) {\n  const content = `\n    <div class=\"content\">\n      <h1>ð Welcome to Game Aggregator!</h1>\n      <p>Hi ${name},</p>\n      <p>Thank you for joining Game Aggregator! We're excited to have you as part of our gaming community.</p>\n      <p class=\"highlight\">Here's what you can do now:</p>\n      <ul style=\"color: #a1a1aa; line-height: 1.8;\">\n        <li>Play <strong>Rock Paper Scissors</strong> and test your luck</li>\n        <li>Challenge the <strong>Quick Draw Showdown</strong> with Algorand staking</li>\n        <li>Manage your profile in the dashboard</li>\n        <li>Compete with other players</li>\n      </ul>\n      <div style=\"text-align: center;\">\n        <a href=\"${env.BETTER_AUTH_URL}/dashboard\" class=\"button\">Go to Dashboard</a>\n      </div>\n      <p>If you have any questions, feel free to reach out to our support team.</p>\n      <p>Happy gaming! ð®</p>\n    </div>\n  `;\n\n  return emailWrapper(content, \"Welcome to Game Aggregator!\");\n}\n\n// Account Security Alert\nexport function securityAlertTemplate(action: string, ipAddress?: string, userAgent?: string) {\n  const content = `\n    <div class=\"content\">\n      <h1>ð¡ï¸ Security Alert</h1>\n      <p>We detected a security-related action on your Game Aggregator account:</p>\n      <div class=\"warning\">\n        <p><strong>Action:</strong> ${action}</p>\n        ${ipAddress ? `<p><strong>IP Address:</strong> ${ipAddress}</p>` : \"\"}\n        ${userAgent ? `<p><strong>Device:</strong> ${userAgent}</p>` : \"\"}\n        <p><strong>Time:</strong> ${new Date().toLocaleString()}</p>\n      </div>\n      <p>If this was you, no action is needed. If you don't recognize this activity, please:</p>\n      <ol style=\"color: #a1a1aa; line-height: 1.8;\">\n        <li>Change your password immediately</li>\n        <li>Review your recent account activity</li>\n        <li>Contact our support team</li>\n      </ol>\n      <div style=\"text-align: center;\">\n        <a href=\"${env.BETTER_AUTH_URL}/dashboard\" class=\"button\">Review Account</a>\n      </div>\n    </div>\n  `;\n\n  return emailWrapper(content, `Security alert: ${action}`);\n}\n\n// Export all templates\nexport const emailTemplates = {\n  signInOTP: signInOTPTemplate,\n  emailVerification: emailVerificationTemplate,\n  passwordReset: passwordResetTemplate,\n  welcome: welcomeEmailTemplate,\n  securityAlert: securityAlertTemplate,\n};\n",
      "type": "registry:lib",
      "target": "lib\\email\\templates.ts"
    },
    {
      "path": "lib\\mongodb.ts",
      "content": "// This approach is taken from https://github.com/vercel/next.js/tree/canary/examples/with-mongodb\r\nimport { MongoClient, ServerApiVersion } from \"mongodb\";\r\nimport { env } from \"@/env\";\r\n\r\nconst uri = env.MONGODB_URI;\r\nconst options = {\r\n  serverApi: {\r\n    version: ServerApiVersion.v1,\r\n    strict: true,\r\n    deprecationErrors: true,\r\n  },\r\n};\r\n\r\nlet client: MongoClient;\r\n\r\nif (env.NODE_ENV === \"development\") {\r\n  // In development mode, use a global variable so that the value\r\n  // is preserved across module reloads caused by HMR (Hot Module Replacement).\r\n  const globalWithMongo = global as typeof globalThis & {\r\n    _mongoClient?: MongoClient;\r\n  };\r\n\r\n  if (!globalWithMongo._mongoClient) {\r\n    globalWithMongo._mongoClient = new MongoClient(uri, options);\r\n  }\r\n  client = globalWithMongo._mongoClient;\r\n} else {\r\n  // In production mode, it's best to not use a global variable.\r\n  client = new MongoClient(uri, options);\r\n}\r\n\r\n// Export a module-scoped MongoClient. By doing this in a\r\n// separate module, the client can be shared across functions.\r\nexport default client;\r\n",
      "type": "registry:lib",
      "target": "lib\\mongodb.ts"
    },
    {
      "path": "lib\\orpc.server.ts",
      "content": "import \"server-only\";\r\n\r\nimport { headers } from \"next/headers\";\r\nimport { createRouterClient } from \"@orpc/server\";\r\nimport { router } from \"@/lib/router\";\r\n\r\nglobalThis.$client = createRouterClient(router, {\r\n  /**\r\n   * Provide initial context if needed.\r\n   *\r\n   * Because this client instance is shared across all requests,\r\n   * only include context that's safe to reuse globally.\r\n   * For per-request context, use middleware context or pass a function as the initial context.\r\n   */\r\n  context: async () => ({\r\n    headers: await headers(), // provide headers if initial context required\r\n  }),\r\n});\r\n",
      "type": "registry:lib",
      "target": "lib\\orpc.server.ts"
    },
    {
      "path": "lib\\orpc.ts",
      "content": "import type { RouterClient } from \"@orpc/server\";\r\nimport { RPCLink } from \"@orpc/client/fetch\";\r\nimport { createORPCClient } from \"@orpc/client\";\r\nimport type { Router } from \"@/lib/router\";\r\n\r\ndeclare global {\r\n  var $client: RouterClient<Router> | undefined;\r\n}\r\n\r\nconst link = new RPCLink({\r\n  url: () => {\r\n    if (typeof window === \"undefined\") {\r\n      throw new Error(\"RPCLink is not allowed on the server side.\");\r\n    }\r\n\r\n    return `${window.location.origin}/rpc`;\r\n  },\r\n});\r\n\r\n/**\r\n * Fallback to client-side client if server-side client is not available.\r\n */\r\nexport const client: RouterClient<Router> =\r\n  globalThis.$client ?? createORPCClient(link);\r\n",
      "type": "registry:lib",
      "target": "lib\\orpc.ts"
    },
    {
      "path": "lib\\router.ts",
      "content": "import { os } from \"@orpc/server\";\r\nimport { z } from \"zod\";\r\nimport { auth } from \"@/lib/auth\";\r\nimport { headers } from \"next/headers\";\r\nimport clientPromise from \"@/lib/mongodb\";\r\nimport { env } from \"@/env\";\r\n\r\n// Example procedure - replace with your actual procedures\r\nconst hello = os\r\n  .input(\r\n    z.object({\r\n      name: z.string(),\r\n    })\r\n  )\r\n  .output(\r\n    z.object({\r\n      message: z.string(),\r\n    })\r\n  )\r\n  .route({\r\n    method: \"GET\",\r\n    path: \"/hello\",\r\n  })\r\n  .handler(async ({ input }) => {\r\n    return {\r\n      message: `Hello, ${input.name}!`,\r\n    };\r\n  });\r\n\r\n// Admin: Get all users\r\nconst getUsers = os\r\n  .input(z.void())\r\n  .output(\r\n    z.object({\r\n      users: z.array(\r\n        z.object({\r\n          id: z.string(),\r\n          name: z.string().nullable(),\r\n          email: z.string(),\r\n          role: z.string(),\r\n          banned: z.boolean(),\r\n          banReason: z.string().nullable().optional(),\r\n          banExpires: z.date().nullable().optional(),\r\n          createdAt: z.date().nullable().optional(),\r\n        })\r\n      ),\r\n    })\r\n  )\r\n  .route({\r\n    method: \"GET\",\r\n    path: \"/admin/users\",\r\n  })\r\n  .handler(async () => {\r\n    // Check if user is authenticated and is an admin\r\n    const session = await auth.api.getSession({\r\n      headers: await headers(),\r\n    });\r\n\r\n    if (!session) {\r\n      throw new Error(\"Unauthorized\");\r\n    }\r\n\r\n    const isAdmin =\r\n      session.user.role === \"admin\" || session.user.role === \"super-admin\";\r\n    if (!isAdmin) {\r\n      throw new Error(\"Forbidden: Admin access required\");\r\n    }\r\n\r\n    // Fetch all users from MongoDB\r\n    const client = await clientPromise;\r\n    const db = client.db(env.MONGODB_DB_NAME);\r\n    const usersCollection = db.collection(\"user\");\r\n\r\n    const users = await usersCollection\r\n      .find({})\r\n      .sort({ createdAt: -1 })\r\n      .toArray();\r\n\r\n    return {\r\n      users: users.map((user) => ({\r\n        id: user.id,\r\n        name: user.name,\r\n        email: user.email,\r\n        role: user.role || \"user\",\r\n        banned: user.banned || false,\r\n        banReason: user.banReason,\r\n        banExpires: user.banExpires,\r\n        createdAt: user.createdAt,\r\n      })),\r\n    };\r\n  });\r\n\r\nexport const router = os.router({\r\n  hello,\r\n  admin: os.router({\r\n    getUsers,\r\n  }),\r\n});\r\nexport type Router = typeof router;\r\n",
      "type": "registry:lib",
      "target": "lib\\router.ts"
    },
    {
      "path": "lib\\utils.ts",
      "content": "import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n",
      "type": "registry:lib",
      "target": "lib\\utils.ts"
    },
    {
      "path": "proxy.ts",
      "content": "import { NextRequest, NextResponse } from \"next/server\";\nimport { getSessionCookie } from \"better-auth/cookies\";\n\nexport async function proxy(request: NextRequest) {\n  const sessionCookie = getSessionCookie(request);\n\n  // Protect admin routes\n  if (request.nextUrl.pathname.startsWith(\"/admin\")) {\n    if (!sessionCookie) {\n      return NextResponse.redirect(new URL(\"/sign-in\", request.url));\n    }\n  }\n\n  // Protect dashboard routes\n  if (request.nextUrl.pathname.startsWith(\"/dashboard\")) {\n    if (!sessionCookie) {\n      return NextResponse.redirect(new URL(\"/sign-in\", request.url));\n    }\n  }\n\n  // Redirect authenticated users away from auth pages\n  if (sessionCookie && (\n    request.nextUrl.pathname === \"/sign-in\" ||\n    request.nextUrl.pathname === \"/sign-up\"\n  )) {\n    return NextResponse.redirect(new URL(\"/dashboard\", request.url));\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: [\"/admin/:path*\", \"/dashboard/:path*\", \"/sign-in\", \"/sign-up\"],\n};\n",
      "type": "registry:component",
      "target": "proxy.ts"
    },
    {
      "path": "public\\file.svg",
      "content": "<svg fill=\"none\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.5 13.5V5.41a1 1 0 0 0-.3-.7L9.8.29A1 1 0 0 0 9.08 0H1.5v13.5A2.5 2.5 0 0 0 4 16h8a2.5 2.5 0 0 0 2.5-2.5m-1.5 0v-7H8v-5H3v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1M9.5 5V2.12L12.38 5zM5.13 5h-.62v1.25h2.12V5zm-.62 3h7.12v1.25H4.5zm.62 3h-.62v1.25h7.12V11z\" clip-rule=\"evenodd\" fill=\"#666\" fill-rule=\"evenodd\"/></svg>",
      "type": "registry:file",
      "target": "public\\file.svg"
    },
    {
      "path": "public\\globe.svg",
      "content": "<svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><g clip-path=\"url(#a)\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.27 14.1a6.5 6.5 0 0 0 3.67-3.45q-1.24.21-2.7.34-.31 1.83-.97 3.1M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.48-1.52a7 7 0 0 1-.96 0H7.5a4 4 0 0 1-.84-1.32q-.38-.89-.63-2.08a40 40 0 0 0 3.92 0q-.25 1.2-.63 2.08a4 4 0 0 1-.84 1.31zm2.94-4.76q1.66-.15 2.95-.43a7 7 0 0 0 0-2.58q-1.3-.27-2.95-.43a18 18 0 0 1 0 3.44m-1.27-3.54a17 17 0 0 1 0 3.64 39 39 0 0 1-4.3 0 17 17 0 0 1 0-3.64 39 39 0 0 1 4.3 0m1.1-1.17q1.45.13 2.69.34a6.5 6.5 0 0 0-3.67-3.44q.65 1.26.98 3.1M8.48 1.5l.01.02q.41.37.84 1.31.38.89.63 2.08a40 40 0 0 0-3.92 0q.25-1.2.63-2.08a4 4 0 0 1 .85-1.32 7 7 0 0 1 .96 0m-2.75.4a6.5 6.5 0 0 0-3.67 3.44 29 29 0 0 1 2.7-.34q.31-1.83.97-3.1M4.58 6.28q-1.66.16-2.95.43a7 7 0 0 0 0 2.58q1.3.27 2.95.43a18 18 0 0 1 0-3.44m.17 4.71q-1.45-.12-2.69-.34a6.5 6.5 0 0 0 3.67 3.44q-.65-1.27-.98-3.1\" fill=\"#666\"/></g><defs><clipPath id=\"a\"><path fill=\"#fff\" d=\"M0 0h16v16H0z\"/></clipPath></defs></svg>",
      "type": "registry:file",
      "target": "public\\globe.svg"
    },
    {
      "path": "public\\next.svg",
      "content": "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 394 80\"><path fill=\"#000\" d=\"M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z\"/><path fill=\"#000\" d=\"M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z\"/></svg>",
      "type": "registry:file",
      "target": "public\\next.svg"
    },
    {
      "path": "public\\vercel.svg",
      "content": "<svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1155 1000\"><path d=\"m577.3 0 577.4 1000H0z\" fill=\"#fff\"/></svg>",
      "type": "registry:file",
      "target": "public\\vercel.svg"
    },
    {
      "path": "public\\window.svg",
      "content": "<svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1.5 2.5h13v10a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1zM0 1h16v11.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 0 12.5zm3.75 4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5M7 4.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5\" fill=\"#666\"/></svg>",
      "type": "registry:file",
      "target": "public\\window.svg"
    }
  ],
  "author": "Prathamesh Chougale",
  "title": "Complete Project"
}